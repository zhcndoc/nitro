[{"data":1,"prerenderedAt":1234},["ShallowReactive",2],{"navigation":3,"-docs-storage":223,"-docs-storage-surround":1230},[4,83,208,213,220],{"title":5,"path":6,"stem":7,"children":8,"icon":82},"","/docs","1.docs/1.index",[9,12,17,22,27,32,37,42,47,52,57,62,67,72,77],{"title":10,"path":6,"stem":7,"icon":11},"介绍","i-lucide-compass",{"title":13,"path":14,"stem":15,"icon":16},"快速开始","/docs/quick-start","1.docs/2.quick-start","i-lucide-zap",{"title":18,"path":19,"stem":20,"icon":21},"渲染器","/docs/renderer","1.docs/4.renderer","ri:layout-masonry-line",{"title":23,"path":24,"stem":25,"icon":26},"服务器路由","/docs/routing","1.docs/5.routing","ri:direction-line",{"title":28,"path":29,"stem":30,"icon":31},"资源","/docs/assets","1.docs/50.assets","ri:image-2-line",{"title":33,"path":34,"stem":35,"icon":36},"配置","/docs/configuration","1.docs/50.configuration","ri:settings-3-line",{"title":38,"path":39,"stem":40,"icon":41},"数据库","/docs/database","1.docs/50.database","ri:database-2-line",{"title":43,"path":44,"stem":45,"icon":46},"生命周期","/docs/lifecycle","1.docs/50.lifecycle","i-lucide-layers",{"title":48,"path":49,"stem":50,"icon":51},"插件","/docs/plugins","1.docs/50.plugins","ri:plug-line",{"title":53,"path":54,"stem":55,"icon":56},"任务","/docs/tasks","1.docs/50.tasks","codicon:run-all",{"title":58,"path":59,"stem":60,"icon":61},"服务器入口","/docs/server-entry","1.docs/6.server-entry","ri:server-line",{"title":63,"path":64,"stem":65,"icon":66},"缓存","/docs/cache","1.docs/7.cache","ri:speed-line",{"title":68,"path":69,"stem":70,"icon":71},"KV 存储","/docs/storage","1.docs/8.storage","carbon:datastore",{"title":73,"path":74,"stem":75,"icon":76},"迁移指南","/docs/migration","1.docs/99.migration","ri:arrow-right-up-line",{"title":78,"path":79,"stem":80,"icon":81},"夜间通道","/docs/nightly","1.docs/99.nightly","ri:moon-fill","i-lucide-book-open",{"title":84,"path":85,"stem":86,"children":87,"icon":89},"概述","/deploy","2.deploy/0.index",[88,90,111],{"title":84,"path":85,"stem":86,"icon":89},"ri:upload-cloud-2-line",{"title":91,"path":92,"stem":93,"children":94,"page":110},"Runtimes","/deploy/runtimes","2.deploy/10.runtimes",[95,100,105],{"title":96,"path":97,"stem":98,"icon":99},"Node.js","/deploy/runtimes/node","2.deploy/10.runtimes/1.node","akar-icons:node-fill",{"title":101,"path":102,"stem":103,"icon":104},"Bun","/deploy/runtimes/bun","2.deploy/10.runtimes/bun","simple-icons:bun",{"title":106,"path":107,"stem":108,"icon":109},"Deno","/deploy/runtimes/deno","2.deploy/10.runtimes/deno","simple-icons:deno",false,{"title":112,"path":113,"stem":114,"children":115,"page":110},"Providers","/deploy/providers","2.deploy/20.providers",[116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204],{"title":117,"path":118,"stem":119},"Alwaysdata","/deploy/providers/alwaysdata","2.deploy/20.providers/alwaysdata",{"title":121,"path":122,"stem":123},"AWS Lambda","/deploy/providers/aws","2.deploy/20.providers/aws",{"title":125,"path":126,"stem":127},"AWS Amplify","/deploy/providers/aws-amplify","2.deploy/20.providers/aws-amplify",{"title":129,"path":130,"stem":131},"Azure","/deploy/providers/azure","2.deploy/20.providers/azure",{"title":133,"path":134,"stem":135},"Cleavr","/deploy/providers/cleavr","2.deploy/20.providers/cleavr",{"title":137,"path":138,"stem":139},"Cloudflare","/deploy/providers/cloudflare","2.deploy/20.providers/cloudflare",{"title":141,"path":142,"stem":143},"Deno Deploy","/deploy/providers/deno-deploy","2.deploy/20.providers/deno-deploy",{"title":145,"path":146,"stem":147},"DigitalOcean","/deploy/providers/digitalocean","2.deploy/20.providers/digitalocean",{"title":149,"path":150,"stem":151},"Firebase","/deploy/providers/firebase","2.deploy/20.providers/firebase",{"title":153,"path":154,"stem":155},"Flightcontrol","/deploy/providers/flightcontrol","2.deploy/20.providers/flightcontrol",{"title":157,"path":158,"stem":159},"Genezio","/deploy/providers/genezio","2.deploy/20.providers/genezio",{"title":161,"path":162,"stem":163},"GitHub Pages","/deploy/providers/github-pages","2.deploy/20.providers/github-pages",{"title":165,"path":166,"stem":167},"GitLab Pages","/deploy/providers/gitlab-pages","2.deploy/20.providers/gitlab-pages",{"title":169,"path":170,"stem":171},"Heroku","/deploy/providers/heroku","2.deploy/20.providers/heroku",{"title":173,"path":174,"stem":175},"IIS","/deploy/providers/iis","2.deploy/20.providers/iis",{"title":177,"path":178,"stem":179},"Koyeb","/deploy/providers/koyeb","2.deploy/20.providers/koyeb",{"title":181,"path":182,"stem":183},"Netlify","/deploy/providers/netlify","2.deploy/20.providers/netlify",{"title":185,"path":186,"stem":187},"Platform.sh","/deploy/providers/platform-sh","2.deploy/20.providers/platform-sh",{"title":189,"path":190,"stem":191},"Render.com","/deploy/providers/render","2.deploy/20.providers/render",{"title":193,"path":194,"stem":195},"StormKit","/deploy/providers/stormkit","2.deploy/20.providers/stormkit",{"title":197,"path":198,"stem":199},"Vercel","/deploy/providers/vercel","2.deploy/20.providers/vercel",{"title":201,"path":202,"stem":203},"Zeabur","/deploy/providers/zeabur","2.deploy/20.providers/zeabur",{"title":205,"path":206,"stem":207},"Zerops","/deploy/providers/zerops","2.deploy/20.providers/zerops",{"title":33,"path":209,"stem":210,"children":211,"icon":36},"/config","3.config/0.index",[212],{"title":33,"path":209,"stem":210,"icon":36},{"title":214,"path":215,"stem":216,"children":217,"icon":219},"示例","/examples","4.examples/0.index",[218],{"title":214,"path":215,"stem":216,"icon":219},"i-lucide-folder-code",{"title":5,"path":221,"stem":222},"/","index",{"id":224,"title":68,"body":225,"description":1224,"extension":1225,"meta":1226,"navigation":1227,"path":69,"seo":1228,"stem":70,"__hash__":1229},"content/1.docs/8.storage.md",{"type":226,"value":227,"toc":1218,"icon":71},"minimark",[228,235,246,250,266,550,553,555,566,645,652,661,664,667,778,788,801,1022,1025,1031,1204,1214],[229,230,231],"warning",{},[232,233,234],"p",{},"Nitro v3 Alpha 文档仍在完善中 — 可能会有更新、不完善之处和偶尔的不准确。",[232,236,237,238,245],{},"Nitro 内置集成了 ",[239,240,244],"a",{"href":241,"rel":242},"https://unstorage.unjs.io",[243],"nofollow","unstorage","，以提供与运行时无关的持久层。",[247,248,249],"h2",{"id":249},"用法",[232,251,252,253,257,258,261,262,265],{},"要使用存储层，可以使用 ",[254,255,256],"code",{},"useStorage()"," 并调用 ",[254,259,260],{},"get(key)"," 来检索项，并使用 ",[254,263,264],{},"set(key, value)"," 来设置项。",[267,268,272],"pre",{"className":269,"code":270,"language":271,"meta":5,"style":5},"language-ts shiki shiki-themes github-light github-dark github-dark","import { useStorage } from \"nitro/storage\";\n\n// 默认存储在内存中\nawait useStorage().set(\"test:foo\", { hello: \"world\" })\nawait useStorage().get(\"test:foo\")\n\n// 你可以使用数据存储将数据写入默认的 .data/kv 目录\nconst dataStorage = useStorage(\"data\")\nawait dataStorage.set(\"test\", \"works\")\nawait dataStorage.get(\"data:test\") // 值持久化\n\n// 你也可以在 useStorage(base) 中指定基数\nawait useStorage(\"test\").set(\"foo\", { hello: \"world\" })\n\n// 你可以使用泛型来定义类型\nawait useStorage\u003C{ hello: string }>(\"test\").get(\"foo\")\nawait useStorage(\"test\").get\u003C{ hello: string }>(\"foo\")\n","ts",[254,273,274,297,304,311,342,361,366,372,394,417,437,442,448,475,480,486,521],{"__ignoreMap":5},[275,276,279,283,287,290,294],"span",{"class":277,"line":278},"line",1,[275,280,282],{"class":281},"so5gQ","import",[275,284,286],{"class":285},"slsVL"," { useStorage } ",[275,288,289],{"class":281},"from",[275,291,293],{"class":292},"sfrk1"," \"nitro/storage\"",[275,295,296],{"class":285},";\n",[275,298,300],{"class":277,"line":299},2,[275,301,303],{"emptyLinePlaceholder":302},true,"\n",[275,305,307],{"class":277,"line":306},3,[275,308,310],{"class":309},"sCsY4","// 默认存储在内存中\n",[275,312,314,317,321,324,327,330,333,336,339],{"class":277,"line":313},4,[275,315,316],{"class":281},"await",[275,318,320],{"class":319},"shcOC"," useStorage",[275,322,323],{"class":285},"().",[275,325,326],{"class":319},"set",[275,328,329],{"class":285},"(",[275,331,332],{"class":292},"\"test:foo\"",[275,334,335],{"class":285},", { hello: ",[275,337,338],{"class":292},"\"world\"",[275,340,341],{"class":285}," })\n",[275,343,345,347,349,351,354,356,358],{"class":277,"line":344},5,[275,346,316],{"class":281},[275,348,320],{"class":319},[275,350,323],{"class":285},[275,352,353],{"class":319},"get",[275,355,329],{"class":285},[275,357,332],{"class":292},[275,359,360],{"class":285},")\n",[275,362,364],{"class":277,"line":363},6,[275,365,303],{"emptyLinePlaceholder":302},[275,367,369],{"class":277,"line":368},7,[275,370,371],{"class":309},"// 你可以使用数据存储将数据写入默认的 .data/kv 目录\n",[275,373,375,378,382,385,387,389,392],{"class":277,"line":374},8,[275,376,377],{"class":281},"const",[275,379,381],{"class":380},"suiK_"," dataStorage",[275,383,384],{"class":281}," =",[275,386,320],{"class":319},[275,388,329],{"class":285},[275,390,391],{"class":292},"\"data\"",[275,393,360],{"class":285},[275,395,397,399,402,404,406,409,412,415],{"class":277,"line":396},9,[275,398,316],{"class":281},[275,400,401],{"class":285}," dataStorage.",[275,403,326],{"class":319},[275,405,329],{"class":285},[275,407,408],{"class":292},"\"test\"",[275,410,411],{"class":285},", ",[275,413,414],{"class":292},"\"works\"",[275,416,360],{"class":285},[275,418,420,422,424,426,428,431,434],{"class":277,"line":419},10,[275,421,316],{"class":281},[275,423,401],{"class":285},[275,425,353],{"class":319},[275,427,329],{"class":285},[275,429,430],{"class":292},"\"data:test\"",[275,432,433],{"class":285},") ",[275,435,436],{"class":309},"// 值持久化\n",[275,438,440],{"class":277,"line":439},11,[275,441,303],{"emptyLinePlaceholder":302},[275,443,445],{"class":277,"line":444},12,[275,446,447],{"class":309},"// 你也可以在 useStorage(base) 中指定基数\n",[275,449,451,453,455,457,459,462,464,466,469,471,473],{"class":277,"line":450},13,[275,452,316],{"class":281},[275,454,320],{"class":319},[275,456,329],{"class":285},[275,458,408],{"class":292},[275,460,461],{"class":285},").",[275,463,326],{"class":319},[275,465,329],{"class":285},[275,467,468],{"class":292},"\"foo\"",[275,470,335],{"class":285},[275,472,338],{"class":292},[275,474,341],{"class":285},[275,476,478],{"class":277,"line":477},14,[275,479,303],{"emptyLinePlaceholder":302},[275,481,483],{"class":277,"line":482},15,[275,484,485],{"class":309},"// 你可以使用泛型来定义类型\n",[275,487,489,491,493,496,500,503,506,509,511,513,515,517,519],{"class":277,"line":488},16,[275,490,316],{"class":281},[275,492,320],{"class":319},[275,494,495],{"class":285},"\u003C{ ",[275,497,499],{"class":498},"sQHwn","hello",[275,501,502],{"class":281},":",[275,504,505],{"class":380}," string",[275,507,508],{"class":285}," }>(",[275,510,408],{"class":292},[275,512,461],{"class":285},[275,514,353],{"class":319},[275,516,329],{"class":285},[275,518,468],{"class":292},[275,520,360],{"class":285},[275,522,524,526,528,530,532,534,536,538,540,542,544,546,548],{"class":277,"line":523},17,[275,525,316],{"class":281},[275,527,320],{"class":319},[275,529,329],{"class":285},[275,531,408],{"class":292},[275,533,461],{"class":285},[275,535,353],{"class":319},[275,537,495],{"class":285},[275,539,499],{"class":498},[275,541,502],{"class":281},[275,543,505],{"class":380},[275,545,508],{"class":285},[275,547,468],{"class":292},[275,549,360],{"class":285},[551,552],"read-more",{"to":241},[247,554,33],{"id":33},[232,556,557,558,561,562,565],{},"你可以使用 ",[254,559,560],{},"storage"," 配置挂载一个或多个自定义存储驱动程序。",[563,564],"br",{},"\n键是挂载点名称，值是驱动程序名称和配置。",[267,567,570],{"className":269,"code":568,"filename":569,"language":271,"meta":5,"style":5},"import { defineNitroConfig } from \"nitro/config\";\n\nexport default defineNitroConfig({\n  storage: {\n    redis: {\n      driver: \"redis\",\n      /* redis 连接器选项 */\n    }\n  }\n})\n","nitro.config.ts",[254,571,572,586,590,604,609,614,625,630,635,640],{"__ignoreMap":5},[275,573,574,576,579,581,584],{"class":277,"line":278},[275,575,282],{"class":281},[275,577,578],{"class":285}," { defineNitroConfig } ",[275,580,289],{"class":281},[275,582,583],{"class":292}," \"nitro/config\"",[275,585,296],{"class":285},[275,587,588],{"class":277,"line":299},[275,589,303],{"emptyLinePlaceholder":302},[275,591,592,595,598,601],{"class":277,"line":306},[275,593,594],{"class":281},"export",[275,596,597],{"class":281}," default",[275,599,600],{"class":319}," defineNitroConfig",[275,602,603],{"class":285},"({\n",[275,605,606],{"class":277,"line":313},[275,607,608],{"class":285},"  storage: {\n",[275,610,611],{"class":277,"line":344},[275,612,613],{"class":285},"    redis: {\n",[275,615,616,619,622],{"class":277,"line":363},[275,617,618],{"class":285},"      driver: ",[275,620,621],{"class":292},"\"redis\"",[275,623,624],{"class":285},",\n",[275,626,627],{"class":277,"line":368},[275,628,629],{"class":309},"      /* redis 连接器选项 */\n",[275,631,632],{"class":277,"line":374},[275,633,634],{"class":285},"    }\n",[275,636,637],{"class":277,"line":396},[275,638,639],{"class":285},"  }\n",[275,641,642],{"class":277,"line":419},[275,643,644],{"class":285},"})\n",[232,646,647,648,651],{},"然后，你可以使用 ",[254,649,650],{},"useStorage(\"redis\")"," 函数访问 redis 存储。",[232,653,654,655,660],{},"你可以在 ",[239,656,659],{"href":657,"rel":658},"https://unstorage.unjs.io/",[243],"unstorage 文档"," 中找到驱动程序列表及其配置。",[247,662,663],{"id":663},"仅限开发的挂载点",[232,665,666],{},"默认情况下，Nitro 将在开发时使用文件系统驱动程序挂载项目目录和一些其他目录。",[267,668,672],{"className":669,"code":670,"language":671,"meta":5,"style":5},"language-js shiki shiki-themes github-light github-dark github-dark","// 访问项目根目录\nconst rootStorage = useStorage('root')\n\n// 访问项目 src 目录（默认与根目录相同）\nconst srcStorage = useStorage('src')\n\n// 访问服务器缓存目录\nconst cacheStorage = useStorage('cache')\n\n// 访问临时构建目录\nconst buildStorage = useStorage('build')\n","js",[254,673,674,679,697,701,706,724,728,733,751,755,760],{"__ignoreMap":5},[275,675,676],{"class":277,"line":278},[275,677,678],{"class":309},"// 访问项目根目录\n",[275,680,681,683,686,688,690,692,695],{"class":277,"line":299},[275,682,377],{"class":281},[275,684,685],{"class":380}," rootStorage",[275,687,384],{"class":281},[275,689,320],{"class":319},[275,691,329],{"class":285},[275,693,694],{"class":292},"'root'",[275,696,360],{"class":285},[275,698,699],{"class":277,"line":306},[275,700,303],{"emptyLinePlaceholder":302},[275,702,703],{"class":277,"line":313},[275,704,705],{"class":309},"// 访问项目 src 目录（默认与根目录相同）\n",[275,707,708,710,713,715,717,719,722],{"class":277,"line":344},[275,709,377],{"class":281},[275,711,712],{"class":380}," srcStorage",[275,714,384],{"class":281},[275,716,320],{"class":319},[275,718,329],{"class":285},[275,720,721],{"class":292},"'src'",[275,723,360],{"class":285},[275,725,726],{"class":277,"line":363},[275,727,303],{"emptyLinePlaceholder":302},[275,729,730],{"class":277,"line":368},[275,731,732],{"class":309},"// 访问服务器缓存目录\n",[275,734,735,737,740,742,744,746,749],{"class":277,"line":374},[275,736,377],{"class":281},[275,738,739],{"class":380}," cacheStorage",[275,741,384],{"class":281},[275,743,320],{"class":319},[275,745,329],{"class":285},[275,747,748],{"class":292},"'cache'",[275,750,360],{"class":285},[275,752,753],{"class":277,"line":396},[275,754,303],{"emptyLinePlaceholder":302},[275,756,757],{"class":277,"line":419},[275,758,759],{"class":309},"// 访问临时构建目录\n",[275,761,762,764,767,769,771,773,776],{"class":277,"line":439},[275,763,377],{"class":281},[275,765,766],{"class":380}," buildStorage",[275,768,384],{"class":281},[275,770,320],{"class":319},[275,772,329],{"class":285},[275,774,775],{"class":292},"'build'",[275,777,360],{"class":285},[779,780,781],"tip",{},[232,782,783,784,787],{},"\n你还可以使用 ",[254,785,786],{},"devStorage"," 键在开发期间覆盖存储配置。当你在生产中使用数据库并希望在开发中使用文件系统时，这非常有用。",[232,789,790,791,793,794,797,798,800],{},"为了使用 ",[254,792,786],{}," 键，你需要使用 ",[254,795,796],{},"nitro dev"," 命令，并且 ",[254,799,560],{}," 选项中的键必须与生产的相同。",[802,803,804,915],"CodeGroup",{},[267,805,807],{"className":269,"code":806,"filename":569,"language":271,"meta":5,"style":5},"import { defineNitroConfig } from \"nitro/config\";\n\nexport default defineNitroConfig({\n  // 生产\n  storage: {\n    default: {\n      driver: 'redis',\n      /* redis 连接器选项 */\n    }\n  },\n  // 开发\n  devStorage: {\n    default: {\n      driver: 'fs',\n      base: './data/kv'\n    }\n  }\n})\n",[254,808,809,821,825,835,840,844,849,858,862,866,871,876,881,885,894,902,906,910],{"__ignoreMap":5},[275,810,811,813,815,817,819],{"class":277,"line":278},[275,812,282],{"class":281},[275,814,578],{"class":285},[275,816,289],{"class":281},[275,818,583],{"class":292},[275,820,296],{"class":285},[275,822,823],{"class":277,"line":299},[275,824,303],{"emptyLinePlaceholder":302},[275,826,827,829,831,833],{"class":277,"line":306},[275,828,594],{"class":281},[275,830,597],{"class":281},[275,832,600],{"class":319},[275,834,603],{"class":285},[275,836,837],{"class":277,"line":313},[275,838,839],{"class":309},"  // 生产\n",[275,841,842],{"class":277,"line":344},[275,843,608],{"class":285},[275,845,846],{"class":277,"line":363},[275,847,848],{"class":285},"    default: {\n",[275,850,851,853,856],{"class":277,"line":368},[275,852,618],{"class":285},[275,854,855],{"class":292},"'redis'",[275,857,624],{"class":285},[275,859,860],{"class":277,"line":374},[275,861,629],{"class":309},[275,863,864],{"class":277,"line":396},[275,865,634],{"class":285},[275,867,868],{"class":277,"line":419},[275,869,870],{"class":285},"  },\n",[275,872,873],{"class":277,"line":439},[275,874,875],{"class":309},"  // 开发\n",[275,877,878],{"class":277,"line":444},[275,879,880],{"class":285},"  devStorage: {\n",[275,882,883],{"class":277,"line":450},[275,884,848],{"class":285},[275,886,887,889,892],{"class":277,"line":477},[275,888,618],{"class":285},[275,890,891],{"class":292},"'fs'",[275,893,624],{"class":285},[275,895,896,899],{"class":277,"line":482},[275,897,898],{"class":285},"      base: ",[275,900,901],{"class":292},"'./data/kv'\n",[275,903,904],{"class":277,"line":488},[275,905,634],{"class":285},[275,907,908],{"class":277,"line":523},[275,909,639],{"class":285},[275,911,913],{"class":277,"line":912},18,[275,914,644],{"class":285},[267,916,919],{"className":269,"code":917,"filename":918,"language":271,"meta":5,"style":5},"export default defineNuxtConfig({\n  nitro: {\n    // 生产\n    storage: {\n      db: {\n        driver: 'redis',\n        /* redis 连接器选项 */\n      }\n    },\n    // 开发\n    devStorage: {\n      db: {\n        driver: 'fs',\n        base: './data/db'\n      }\n    }\n  }\n})\n","nuxt.config.ts",[254,920,921,932,937,942,947,952,961,966,971,976,981,986,990,998,1006,1010,1014,1018],{"__ignoreMap":5},[275,922,923,925,927,930],{"class":277,"line":278},[275,924,594],{"class":281},[275,926,597],{"class":281},[275,928,929],{"class":319}," defineNuxtConfig",[275,931,603],{"class":285},[275,933,934],{"class":277,"line":299},[275,935,936],{"class":285},"  nitro: {\n",[275,938,939],{"class":277,"line":306},[275,940,941],{"class":309},"    // 生产\n",[275,943,944],{"class":277,"line":313},[275,945,946],{"class":285},"    storage: {\n",[275,948,949],{"class":277,"line":344},[275,950,951],{"class":285},"      db: {\n",[275,953,954,957,959],{"class":277,"line":363},[275,955,956],{"class":285},"        driver: ",[275,958,855],{"class":292},[275,960,624],{"class":285},[275,962,963],{"class":277,"line":368},[275,964,965],{"class":309},"        /* redis 连接器选项 */\n",[275,967,968],{"class":277,"line":374},[275,969,970],{"class":285},"      }\n",[275,972,973],{"class":277,"line":396},[275,974,975],{"class":285},"    },\n",[275,977,978],{"class":277,"line":419},[275,979,980],{"class":309},"    // 开发\n",[275,982,983],{"class":277,"line":439},[275,984,985],{"class":285},"    devStorage: {\n",[275,987,988],{"class":277,"line":444},[275,989,951],{"class":285},[275,991,992,994,996],{"class":277,"line":450},[275,993,956],{"class":285},[275,995,891],{"class":292},[275,997,624],{"class":285},[275,999,1000,1003],{"class":277,"line":477},[275,1001,1002],{"class":285},"        base: ",[275,1004,1005],{"class":292},"'./data/db'\n",[275,1007,1008],{"class":277,"line":482},[275,1009,970],{"class":285},[275,1011,1012],{"class":277,"line":488},[275,1013,634],{"class":285},[275,1015,1016],{"class":277,"line":523},[275,1017,639],{"class":285},[275,1019,1020],{"class":277,"line":912},[275,1021,644],{"class":285},[247,1023,1024],{"id":1024},"运行时配置",[232,1026,1027,1028,1030],{},"在挂载点配置在运行时不确定的场景下，Nitro 可以在启动时动态添加挂载点，使用 ",[239,1029,48],{"href":49},"。",[267,1032,1035],{"className":269,"code":1033,"filename":1034,"language":271,"meta":5,"style":5},"import { useStorage } from \"nitro/storage\";\nimport { definePlugin } from \"nitro\";\nimport redisDriver from \"unstorage/drivers/redis\";\n\nexport default definePlugin(() => {\n  const storage = useStorage()\n\n  // 动态传入运行时配置或其他来源的凭证\n  const driver = redisDriver({\n    base: \"redis\",\n    host: process.env.REDIS_HOST,\n    port: process.env.REDIS_PORT,\n    /* 其他 redis 连接器选项 */\n  })\n\n  // 挂载驱动程序\n  storage.mount(\"redis\", driver)\n})\n","plugins/storage.ts",[254,1036,1037,1049,1063,1077,1081,1099,1114,1118,1123,1137,1146,1156,1166,1171,1176,1180,1185,1200],{"__ignoreMap":5},[275,1038,1039,1041,1043,1045,1047],{"class":277,"line":278},[275,1040,282],{"class":281},[275,1042,286],{"class":285},[275,1044,289],{"class":281},[275,1046,293],{"class":292},[275,1048,296],{"class":285},[275,1050,1051,1053,1056,1058,1061],{"class":277,"line":299},[275,1052,282],{"class":281},[275,1054,1055],{"class":285}," { definePlugin } ",[275,1057,289],{"class":281},[275,1059,1060],{"class":292}," \"nitro\"",[275,1062,296],{"class":285},[275,1064,1065,1067,1070,1072,1075],{"class":277,"line":306},[275,1066,282],{"class":281},[275,1068,1069],{"class":285}," redisDriver ",[275,1071,289],{"class":281},[275,1073,1074],{"class":292}," \"unstorage/drivers/redis\"",[275,1076,296],{"class":285},[275,1078,1079],{"class":277,"line":313},[275,1080,303],{"emptyLinePlaceholder":302},[275,1082,1083,1085,1087,1090,1093,1096],{"class":277,"line":344},[275,1084,594],{"class":281},[275,1086,597],{"class":281},[275,1088,1089],{"class":319}," definePlugin",[275,1091,1092],{"class":285},"(() ",[275,1094,1095],{"class":281},"=>",[275,1097,1098],{"class":285}," {\n",[275,1100,1101,1104,1107,1109,1111],{"class":277,"line":363},[275,1102,1103],{"class":281},"  const",[275,1105,1106],{"class":380}," storage",[275,1108,384],{"class":281},[275,1110,320],{"class":319},[275,1112,1113],{"class":285},"()\n",[275,1115,1116],{"class":277,"line":368},[275,1117,303],{"emptyLinePlaceholder":302},[275,1119,1120],{"class":277,"line":374},[275,1121,1122],{"class":309},"  // 动态传入运行时配置或其他来源的凭证\n",[275,1124,1125,1127,1130,1132,1135],{"class":277,"line":396},[275,1126,1103],{"class":281},[275,1128,1129],{"class":380}," driver",[275,1131,384],{"class":281},[275,1133,1134],{"class":319}," redisDriver",[275,1136,603],{"class":285},[275,1138,1139,1142,1144],{"class":277,"line":419},[275,1140,1141],{"class":285},"    base: ",[275,1143,621],{"class":292},[275,1145,624],{"class":285},[275,1147,1148,1151,1154],{"class":277,"line":439},[275,1149,1150],{"class":285},"    host: process.env.",[275,1152,1153],{"class":380},"REDIS_HOST",[275,1155,624],{"class":285},[275,1157,1158,1161,1164],{"class":277,"line":444},[275,1159,1160],{"class":285},"    port: process.env.",[275,1162,1163],{"class":380},"REDIS_PORT",[275,1165,624],{"class":285},[275,1167,1168],{"class":277,"line":450},[275,1169,1170],{"class":309},"    /* 其他 redis 连接器选项 */\n",[275,1172,1173],{"class":277,"line":477},[275,1174,1175],{"class":285},"  })\n",[275,1177,1178],{"class":277,"line":482},[275,1179,303],{"emptyLinePlaceholder":302},[275,1181,1182],{"class":277,"line":488},[275,1183,1184],{"class":309},"  // 挂载驱动程序\n",[275,1186,1187,1190,1193,1195,1197],{"class":277,"line":523},[275,1188,1189],{"class":285},"  storage.",[275,1191,1192],{"class":319},"mount",[275,1194,329],{"class":285},[275,1196,621],{"class":292},[275,1198,1199],{"class":285},", driver)\n",[275,1201,1202],{"class":277,"line":912},[275,1203,644],{"class":285},[229,1205,1206],{},[232,1207,1208,1209,1030],{},"这是一个临时解决方案，未来会有更好的解决方案！请关注 GitHub 问题 ",[239,1210,1213],{"href":1211,"rel":1212},"https://github.com/nitrojs/nitro/issues/1161#issuecomment-1511444675",[243],"这里",[1215,1216,1217],"style",{},"html pre.shiki code .so5gQ, html code.shiki .so5gQ{--shiki-light:#D73A49;--shiki-default:#F97583;--shiki-dark:#F97583}html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sfrk1, html code.shiki .sfrk1{--shiki-light:#032F62;--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF}html pre.shiki code .sCsY4, html code.shiki .sCsY4{--shiki-light:#6A737D;--shiki-default:#6A737D;--shiki-dark:#6A737D}html pre.shiki code .shcOC, html code.shiki .shcOC{--shiki-light:#6F42C1;--shiki-default:#B392F0;--shiki-dark:#B392F0}html pre.shiki code .suiK_, html code.shiki .suiK_{--shiki-light:#005CC5;--shiki-default:#79B8FF;--shiki-dark:#79B8FF}html pre.shiki code .sQHwn, html code.shiki .sQHwn{--shiki-light:#E36209;--shiki-default:#FFAB70;--shiki-dark:#FFAB70}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":5,"searchDepth":299,"depth":299,"links":1219},[1220,1221,1222,1223],{"id":249,"depth":299,"text":249},{"id":33,"depth":299,"text":33},{"id":663,"depth":299,"text":663},{"id":1024,"depth":299,"text":1024},"Nitro 提供了一个内置存储层，可以抽象文件系统、数据库或任何其他数据源。","md",{"icon":71},{"icon":71},{"title":68,"description":1224},"6rbnbE-3hbXiytU_ShU27gRLfMRseYYryLdu8dfkc0M",[1231,1233],{"title":63,"path":64,"stem":65,"description":1232,"icon":66,"children":-1},"Nitro 提供了一种构建在存储层之上的缓存系统。",{"title":73,"path":74,"stem":75,"description":5,"icon":76,"children":-1},1771507939049]