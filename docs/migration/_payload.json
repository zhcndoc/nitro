[{"data":1,"prerenderedAt":796},["ShallowReactive",2],{"navigation":3,"-docs-migration":216,"-docs-migration-surround":791},[4,83,208,213],{"title":5,"path":6,"stem":7,"children":8,"icon":82},"","/docs","1.docs/1.index",[9,12,17,22,27,32,37,42,47,52,57,62,67,72,77],{"title":10,"path":6,"stem":7,"icon":11},"介绍","i-lucide-compass",{"title":13,"path":14,"stem":15,"icon":16},"快速开始","/docs/quick-start","1.docs/2.quick-start","i-lucide-zap",{"title":18,"path":19,"stem":20,"icon":21},"渲染器","/docs/renderer","1.docs/4.renderer","ri:layout-masonry-line",{"title":23,"path":24,"stem":25,"icon":26},"服务器路由","/docs/routing","1.docs/5.routing","ri:direction-line",{"title":28,"path":29,"stem":30,"icon":31},"资源","/docs/assets","1.docs/50.assets","ri:image-2-line",{"title":33,"path":34,"stem":35,"icon":36},"配置","/docs/configuration","1.docs/50.configuration","ri:settings-3-line",{"title":38,"path":39,"stem":40,"icon":41},"数据库","/docs/database","1.docs/50.database","ri:database-2-line",{"title":43,"path":44,"stem":45,"icon":46},"生命周期","/docs/lifecycle","1.docs/50.lifecycle","i-lucide-layers",{"title":48,"path":49,"stem":50,"icon":51},"插件","/docs/plugins","1.docs/50.plugins","ri:plug-line",{"title":53,"path":54,"stem":55,"icon":56},"任务","/docs/tasks","1.docs/50.tasks","codicon:run-all",{"title":58,"path":59,"stem":60,"icon":61},"服务器入口","/docs/server-entry","1.docs/6.server-entry","ri:server-line",{"title":63,"path":64,"stem":65,"icon":66},"缓存","/docs/cache","1.docs/7.cache","ri:speed-line",{"title":68,"path":69,"stem":70,"icon":71},"KV 存储","/docs/storage","1.docs/8.storage","carbon:datastore",{"title":73,"path":74,"stem":75,"icon":76},"迁移指南","/docs/migration","1.docs/99.migration","ri:arrow-right-up-line",{"title":78,"path":79,"stem":80,"icon":81},"夜间通道","/docs/nightly","1.docs/99.nightly","ri:moon-fill","i-lucide-book-open",{"title":84,"path":85,"stem":86,"children":87,"icon":89},"概述","/deploy","2.deploy/0.index",[88,90,111],{"title":84,"path":85,"stem":86,"icon":89},"ri:upload-cloud-2-line",{"title":91,"path":92,"stem":93,"children":94,"page":110},"Runtimes","/deploy/runtimes","2.deploy/10.runtimes",[95,100,105],{"title":96,"path":97,"stem":98,"icon":99},"Node.js","/deploy/runtimes/node","2.deploy/10.runtimes/1.node","akar-icons:node-fill",{"title":101,"path":102,"stem":103,"icon":104},"Bun","/deploy/runtimes/bun","2.deploy/10.runtimes/bun","simple-icons:bun",{"title":106,"path":107,"stem":108,"icon":109},"Deno","/deploy/runtimes/deno","2.deploy/10.runtimes/deno","simple-icons:deno",false,{"title":112,"path":113,"stem":114,"children":115,"page":110},"Providers","/deploy/providers","2.deploy/20.providers",[116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204],{"title":117,"path":118,"stem":119},"Alwaysdata","/deploy/providers/alwaysdata","2.deploy/20.providers/alwaysdata",{"title":121,"path":122,"stem":123},"AWS Lambda","/deploy/providers/aws","2.deploy/20.providers/aws",{"title":125,"path":126,"stem":127},"AWS Amplify","/deploy/providers/aws-amplify","2.deploy/20.providers/aws-amplify",{"title":129,"path":130,"stem":131},"Azure","/deploy/providers/azure","2.deploy/20.providers/azure",{"title":133,"path":134,"stem":135},"Cleavr","/deploy/providers/cleavr","2.deploy/20.providers/cleavr",{"title":137,"path":138,"stem":139},"Cloudflare","/deploy/providers/cloudflare","2.deploy/20.providers/cloudflare",{"title":141,"path":142,"stem":143},"Deno Deploy","/deploy/providers/deno-deploy","2.deploy/20.providers/deno-deploy",{"title":145,"path":146,"stem":147},"DigitalOcean","/deploy/providers/digitalocean","2.deploy/20.providers/digitalocean",{"title":149,"path":150,"stem":151},"Firebase","/deploy/providers/firebase","2.deploy/20.providers/firebase",{"title":153,"path":154,"stem":155},"Flightcontrol","/deploy/providers/flightcontrol","2.deploy/20.providers/flightcontrol",{"title":157,"path":158,"stem":159},"Genezio","/deploy/providers/genezio","2.deploy/20.providers/genezio",{"title":161,"path":162,"stem":163},"GitHub Pages","/deploy/providers/github-pages","2.deploy/20.providers/github-pages",{"title":165,"path":166,"stem":167},"GitLab Pages","/deploy/providers/gitlab-pages","2.deploy/20.providers/gitlab-pages",{"title":169,"path":170,"stem":171},"Heroku","/deploy/providers/heroku","2.deploy/20.providers/heroku",{"title":173,"path":174,"stem":175},"IIS","/deploy/providers/iis","2.deploy/20.providers/iis",{"title":177,"path":178,"stem":179},"Koyeb","/deploy/providers/koyeb","2.deploy/20.providers/koyeb",{"title":181,"path":182,"stem":183},"Netlify","/deploy/providers/netlify","2.deploy/20.providers/netlify",{"title":185,"path":186,"stem":187},"Platform.sh","/deploy/providers/platform-sh","2.deploy/20.providers/platform-sh",{"title":189,"path":190,"stem":191},"Render.com","/deploy/providers/render","2.deploy/20.providers/render",{"title":193,"path":194,"stem":195},"StormKit","/deploy/providers/stormkit","2.deploy/20.providers/stormkit",{"title":197,"path":198,"stem":199},"Vercel","/deploy/providers/vercel","2.deploy/20.providers/vercel",{"title":201,"path":202,"stem":203},"Zeabur","/deploy/providers/zeabur","2.deploy/20.providers/zeabur",{"title":205,"path":206,"stem":207},"Zerops","/deploy/providers/zerops","2.deploy/20.providers/zerops",{"title":33,"path":209,"stem":210,"children":211,"icon":36},"/config","3.config/0.index",[212],{"title":33,"path":209,"stem":210,"icon":36},{"title":5,"path":214,"stem":215},"/","index",{"id":217,"title":73,"body":218,"description":5,"extension":786,"meta":787,"navigation":788,"path":74,"seo":789,"stem":75,"__hash__":790},"content/1.docs/99.migration.md",{"type":219,"value":220,"toc":776,"icon":76},"minimark",[221,228,231,243,258,275,280,330,340,355,359,369,372,384,399,403,412,421,425,442,445,452,462,477,480,491,494,498,505,508,511,514,702,705,708,743,749,753,772],[222,223,224],"note",{},[225,226,227],"p",{},"\n这是一个关于从 Nitro 2 迁移到 3 的活文档。在使用测试版时请定期检查。",[225,229,230],{},"Nitro v3 引入了故意的不向后兼容的更改。本指南帮助您从 Nitro v2 迁移。",[232,233,235,239,240],"h2",{"id":234},"nitropack-重命名为-nitro",[236,237,238],"code",{},"nitropack"," 重命名为 ",[236,241,242],{},"nitro",[225,244,245,246,252,253,257],{},"NPM 包 ",[247,248,238],"a",{"href":249,"rel":250},"https://www.npmjs.com/package/nitropack",[251],"nofollow","（v2）已更名为 ",[247,254,242],{"href":255,"rel":256},"https://www.npmjs.com/package/nitro",[251],"（v3）。",[225,259,260,264,265,268,269,271,272,274],{},[261,262,263],"strong",{},"迁移："," 在 ",[236,266,267],{},"package.json"," 中更新 ",[236,270,238],{}," 依赖为 ",[236,273,242],{},"：",[222,276,277],{},[225,278,279],{},"\n目前只提供夜间版本。",[281,282,287],"pre",{"className":283,"code":284,"filename":285,"language":286,"meta":5,"style":5},"language-diff shiki shiki-themes github-light github-dark github-dark","{\n  \"dependencies\": {\n--    \"nitropack\": \"latest\"\n++    \"nitro\": \"npm:nitro-nightly\"\n  }\n}\n","nightly channel","diff",[236,288,289,298,304,311,318,324],{"__ignoreMap":5},[290,291,294],"span",{"class":292,"line":293},"line",1,[290,295,297],{"class":296},"slsVL","{\n",[290,299,301],{"class":292,"line":300},2,[290,302,303],{"class":296},"  \"dependencies\": {\n",[290,305,307],{"class":292,"line":306},3,[290,308,310],{"class":309},"sLpD_","--    \"nitropack\": \"latest\"\n",[290,312,314],{"class":292,"line":313},4,[290,315,317],{"class":316},"sByVh","++    \"nitro\": \"npm:nitro-nightly\"\n",[290,319,321],{"class":292,"line":320},5,[290,322,323],{"class":296},"  }\n",[290,325,327],{"class":292,"line":326},6,[290,328,329],{"class":296},"}\n",[225,331,332,334,335,337,338,274],{},[261,333,263],{}," 在您的代码库中搜索并将所有 ",[236,336,238],{}," 实例重命名为 ",[236,339,242],{},[281,341,343],{"className":283,"code":342,"language":286,"meta":5,"style":5},"-- import { defineNitroConfig } from \"nitropack/config\"\n++ import { defineNitroConfig } from \"nitro/config\"\n",[236,344,345,350],{"__ignoreMap":5},[290,346,347],{"class":292,"line":293},[290,348,349],{"class":309},"-- import { defineNitroConfig } from \"nitropack/config\"\n",[290,351,352],{"class":292,"line":300},[290,353,354],{"class":316},"++ import { defineNitroConfig } from \"nitro/config\"\n",[232,356,358],{"id":357},"nitroruntime","nitro/runtime/*",[225,360,361,362,365,366,368],{},"之前，您可以从 ",[236,363,364],{},"nitro/runtime"," 和 ",[236,367,358],{}," 导入。",[225,370,371],{},"为了防止暴露 Nitro 内部，已移除对嵌套路径的支持。",[225,373,374,376,377,380,381,383],{},[261,375,263],{}," 搜索 ",[236,378,379],{},"nitro/runtime/"," 导入，并用 ",[236,382,364],{}," 替换它们：",[281,385,387],{"className":283,"code":386,"language":286,"meta":5,"style":5},"-- import { useStorage } from \"nitropack/runtime/storage\"\n++ import { useStorage } from \"nitro/runtime\"\n",[236,388,389,394],{"__ignoreMap":5},[290,390,391],{"class":292,"line":293},[290,392,393],{"class":309},"-- import { useStorage } from \"nitropack/runtime/storage\"\n",[290,395,396],{"class":292,"line":300},[290,397,398],{"class":316},"++ import { useStorage } from \"nitro/runtime\"\n",[232,400,402],{"id":401},"最低支持的-nodejs-版本20","最低支持的 Node.js 版本：20",[225,404,405,406,411],{},"Nitro 现在要求最低 Node.js 版本为 20，因为 Node.js 18 将在 ",[247,407,410],{"href":408,"rel":409},"https://nodejs.org/en/about/previous-releases",[251],"2025 年 4 月"," 达到生命周期结束。",[225,413,414,415,420],{},"请升级到 ",[247,416,419],{"href":417,"rel":418},"https://nodejs.org/en/download",[251],"最新的 LTS"," 版本（>= 20）。",[225,422,423],{},[261,424,263],{},[426,427,428,436,439],"ul",{},[429,430,431,432,435],"li",{},"使用 ",[236,433,434],{},"node --version"," 检查您的本地 Node.js 版本，如有必要请更新。",[429,437,438],{},"如果您使用 CI/CD 系统进行部署，请确保您的管道正在运行 Node.js 20 或更高版本。",[429,440,441],{},"如果您的托管提供商管理 Node.js 运行时，请确保它设置为版本 20、22 或更高。",[232,443,444],{"id":444},"类型导入",[225,446,447,448,451],{},"Nitro 类型现在仅从 ",[236,449,450],{},"nitro/types"," 导出。",[225,453,454,456,457,459,460,274],{},[261,455,263],{}," 从 ",[236,458,450],{}," 导入类型，而不是从 ",[236,461,242],{},[281,463,465],{"className":283,"code":464,"language":286,"meta":5,"style":5},"-- import { NitroRuntimeConfig } from \"nitropack\"\n++ import { NitroRuntimeConfig } from \"nitro/types\"\n",[236,466,467,472],{"__ignoreMap":5},[290,468,469],{"class":292,"line":293},[290,470,471],{"class":309},"-- import { NitroRuntimeConfig } from \"nitropack\"\n",[290,473,474],{"class":292,"line":300},[290,475,476],{"class":316},"++ import { NitroRuntimeConfig } from \"nitro/types\"\n",[232,478,479],{"id":479},"应用配置支持已移除",[225,481,482,483,486,487,490],{},"Nitro v2 支持一个捆绑的应用配置，可以在 ",[236,484,485],{},"app.config.ts"," 中定义配置，并通过 ",[236,488,489],{},"useAppConfig()"," 在运行时访问它们。",[225,492,493],{},"此功能已被移除。",[225,495,496],{},[261,497,263],{},[225,499,500,501,504],{},"在您的服务器目录中使用常规的 ",[236,502,503],{},".ts"," 文件并直接导入。",[232,506,507],{"id":507},"预设更新",[225,509,510],{},"Nitro 预设已更新以确保与最新版本兼容。",[225,512,513],{},"一些（遗留）预设已被移除或重命名。",[515,516,517,530],"table",{},[518,519,520],"thead",{},[521,522,523,527],"tr",{},[524,525,526],"th",{},"旧预设",[524,528,529],{},"新预设",[531,532,533,551,570,583,599,612,627,639,651,663,673,683,693],"tbody",{},[521,534,535,541],{},[536,537,538],"td",{},[236,539,540],{},"node",[536,542,543,546,547,550],{},[236,544,545],{},"node-middleware","（导出更改为 ",[236,548,549],{},"middleware","）",[521,552,553,565],{},[536,554,555,558,559,558,562],{},[236,556,557],{},"cloudflare",", ",[236,560,561],{},"cloudflare_worker",[236,563,564],{},"cloudflare_module_legacy",[536,566,567],{},[236,568,569],{},"cloudflare_module",[521,571,572,577],{},[536,573,574],{},[236,575,576],{},"deno-server-legacy",[536,578,579,582],{},[236,580,581],{},"deno_server","，使用 Deno v2",[521,584,585,590],{},[536,586,587],{},[236,588,589],{},"netlify-builder",[536,591,592,595,596],{},[236,593,594],{},"netlify_functions"," 或 ",[236,597,598],{},"netlify_edge",[521,600,601,606],{},[536,602,603],{},[236,604,605],{},"vercel-edge",[536,607,608,611],{},[236,609,610],{},"vercel","，启用 Fluid 计算",[521,613,614,622],{},[536,615,616,558,619],{},[236,617,618],{},"azure",[236,620,621],{},"azure_functions",[536,623,624],{},[236,625,626],{},"azure_swa",[521,628,629,634],{},[536,630,631],{},[236,632,633],{},"firebase",[536,635,636],{},[236,637,638],{},"firebase-functions",[521,640,641,646],{},[536,642,643],{},[236,644,645],{},"iis",[536,647,648],{},[236,649,650],{},"iis-handler",[521,652,653,658],{},[536,654,655],{},[236,656,657],{},"deno",[536,659,660],{},[236,661,662],{},"deno-deploy",[521,664,665,670],{},[536,666,667],{},[236,668,669],{},"edgio",[536,671,672],{},"已停产",[521,674,675,680],{},[536,676,677],{},[236,678,679],{},"cli",[536,681,682],{},"因使用不足而移除",[521,684,685,690],{},[536,686,687],{},[236,688,689],{},"service_worker",[536,691,692],{},"因不稳定性而移除",[521,694,695,699],{},[536,696,697],{},[236,698,633],{},[536,700,701],{},"使用新的 Firebase 应用托管",[232,703,704],{"id":704},"移除的子路径导出",[225,706,707],{},"Nitro v2 引入了多个子路径导出，其中一些已被移除：",[426,709,710,718,723,728,733,738],{},[429,711,712,715,716,550],{},[236,713,714],{},"nitropack/core","（使用 ",[236,717,242],{},[429,719,720],{},[236,721,722],{},"nitropack/runtime/*",[429,724,725],{},[236,726,727],{},"nitropack/dist/runtime/*",[429,729,730],{},[236,731,732],{},"nitropack/presets/*",[429,734,735],{},[236,736,737],{},"nitro/rollup",[429,739,740],{},[236,741,742],{},"nitropack/kit",[225,744,745,746,748],{},"一个实验性的 ",[236,747,742],{}," 曾经被引入，但现在已被移除。未来可能会推出一个独立的 Nitro Kit 包，具有更清晰的目标。",[225,750,751],{},[261,752,263],{},[426,754,755,769],{},[429,756,757,758,760,761,764,765,768],{},"使用来自 ",[236,759,450],{}," 的 ",[236,762,763],{},"NitroModule","，而不是来自 kit 的 ",[236,766,767],{},"defineNitroModule","。",[429,770,771],{},"优先使用内置的 Nitro 预设（外部预设仅供评估使用）。",[773,774,775],"style",{},"html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sLpD_, html code.shiki .sLpD_{--shiki-light:#B31D28;--shiki-default:#FDAEB7;--shiki-dark:#FDAEB7}html pre.shiki code .sByVh, html code.shiki .sByVh{--shiki-light:#22863A;--shiki-default:#85E89D;--shiki-dark:#85E89D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":5,"searchDepth":300,"depth":300,"links":777},[778,780,781,782,783,784,785],{"id":234,"depth":300,"text":779},"nitropack 重命名为 nitro",{"id":357,"depth":300,"text":358},{"id":401,"depth":300,"text":402},{"id":444,"depth":300,"text":444},{"id":479,"depth":300,"text":479},{"id":507,"depth":300,"text":507},{"id":704,"depth":300,"text":704},"md",{"icon":76},{"icon":76},{"title":73,"description":5},"dzaXviSHQAcV9nSlkpkta-0k-uUQll-Q0HZQhKtEUrg",[792,794],{"title":68,"path":69,"stem":70,"description":793,"icon":71,"children":-1},"Nitro 提供了一个内置存储层，可以抽象文件系统、数据库或任何其他数据源。",{"title":78,"path":79,"stem":80,"description":795,"icon":81,"children":-1},"Nitro 有一个夜间发布通道，对于每次对 main 分支的提交会自动发布，以尝试最新的更改。",1761554644073]