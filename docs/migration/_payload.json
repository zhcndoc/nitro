[{"data":1,"prerenderedAt":799},["ShallowReactive",2],{"navigation":3,"-docs-migration":223,"-docs-migration-surround":794},[4,83,208,213,220],{"title":5,"path":6,"stem":7,"children":8,"icon":82},"","/docs","1.docs/1.index",[9,12,17,22,27,32,37,42,47,52,57,62,67,72,77],{"title":10,"path":6,"stem":7,"icon":11},"介绍","i-lucide-compass",{"title":13,"path":14,"stem":15,"icon":16},"快速开始","/docs/quick-start","1.docs/2.quick-start","i-lucide-zap",{"title":18,"path":19,"stem":20,"icon":21},"渲染器","/docs/renderer","1.docs/4.renderer","ri:layout-masonry-line",{"title":23,"path":24,"stem":25,"icon":26},"服务器路由","/docs/routing","1.docs/5.routing","ri:direction-line",{"title":28,"path":29,"stem":30,"icon":31},"资源","/docs/assets","1.docs/50.assets","ri:image-2-line",{"title":33,"path":34,"stem":35,"icon":36},"配置","/docs/configuration","1.docs/50.configuration","ri:settings-3-line",{"title":38,"path":39,"stem":40,"icon":41},"数据库","/docs/database","1.docs/50.database","ri:database-2-line",{"title":43,"path":44,"stem":45,"icon":46},"生命周期","/docs/lifecycle","1.docs/50.lifecycle","i-lucide-layers",{"title":48,"path":49,"stem":50,"icon":51},"插件","/docs/plugins","1.docs/50.plugins","ri:plug-line",{"title":53,"path":54,"stem":55,"icon":56},"任务","/docs/tasks","1.docs/50.tasks","codicon:run-all",{"title":58,"path":59,"stem":60,"icon":61},"服务器入口","/docs/server-entry","1.docs/6.server-entry","ri:server-line",{"title":63,"path":64,"stem":65,"icon":66},"缓存","/docs/cache","1.docs/7.cache","ri:speed-line",{"title":68,"path":69,"stem":70,"icon":71},"KV 存储","/docs/storage","1.docs/8.storage","carbon:datastore",{"title":73,"path":74,"stem":75,"icon":76},"迁移指南","/docs/migration","1.docs/99.migration","ri:arrow-right-up-line",{"title":78,"path":79,"stem":80,"icon":81},"夜间通道","/docs/nightly","1.docs/99.nightly","ri:moon-fill","i-lucide-book-open",{"title":84,"path":85,"stem":86,"children":87,"icon":89},"概述","/deploy","2.deploy/0.index",[88,90,111],{"title":84,"path":85,"stem":86,"icon":89},"ri:upload-cloud-2-line",{"title":91,"path":92,"stem":93,"children":94,"page":110},"Runtimes","/deploy/runtimes","2.deploy/10.runtimes",[95,100,105],{"title":96,"path":97,"stem":98,"icon":99},"Node.js","/deploy/runtimes/node","2.deploy/10.runtimes/1.node","akar-icons:node-fill",{"title":101,"path":102,"stem":103,"icon":104},"Bun","/deploy/runtimes/bun","2.deploy/10.runtimes/bun","simple-icons:bun",{"title":106,"path":107,"stem":108,"icon":109},"Deno","/deploy/runtimes/deno","2.deploy/10.runtimes/deno","simple-icons:deno",false,{"title":112,"path":113,"stem":114,"children":115,"page":110},"Providers","/deploy/providers","2.deploy/20.providers",[116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204],{"title":117,"path":118,"stem":119},"Alwaysdata","/deploy/providers/alwaysdata","2.deploy/20.providers/alwaysdata",{"title":121,"path":122,"stem":123},"AWS Lambda","/deploy/providers/aws","2.deploy/20.providers/aws",{"title":125,"path":126,"stem":127},"AWS Amplify","/deploy/providers/aws-amplify","2.deploy/20.providers/aws-amplify",{"title":129,"path":130,"stem":131},"Azure","/deploy/providers/azure","2.deploy/20.providers/azure",{"title":133,"path":134,"stem":135},"Cleavr","/deploy/providers/cleavr","2.deploy/20.providers/cleavr",{"title":137,"path":138,"stem":139},"Cloudflare","/deploy/providers/cloudflare","2.deploy/20.providers/cloudflare",{"title":141,"path":142,"stem":143},"Deno Deploy","/deploy/providers/deno-deploy","2.deploy/20.providers/deno-deploy",{"title":145,"path":146,"stem":147},"DigitalOcean","/deploy/providers/digitalocean","2.deploy/20.providers/digitalocean",{"title":149,"path":150,"stem":151},"Firebase","/deploy/providers/firebase","2.deploy/20.providers/firebase",{"title":153,"path":154,"stem":155},"Flightcontrol","/deploy/providers/flightcontrol","2.deploy/20.providers/flightcontrol",{"title":157,"path":158,"stem":159},"Genezio","/deploy/providers/genezio","2.deploy/20.providers/genezio",{"title":161,"path":162,"stem":163},"GitHub Pages","/deploy/providers/github-pages","2.deploy/20.providers/github-pages",{"title":165,"path":166,"stem":167},"GitLab Pages","/deploy/providers/gitlab-pages","2.deploy/20.providers/gitlab-pages",{"title":169,"path":170,"stem":171},"Heroku","/deploy/providers/heroku","2.deploy/20.providers/heroku",{"title":173,"path":174,"stem":175},"IIS","/deploy/providers/iis","2.deploy/20.providers/iis",{"title":177,"path":178,"stem":179},"Koyeb","/deploy/providers/koyeb","2.deploy/20.providers/koyeb",{"title":181,"path":182,"stem":183},"Netlify","/deploy/providers/netlify","2.deploy/20.providers/netlify",{"title":185,"path":186,"stem":187},"Platform.sh","/deploy/providers/platform-sh","2.deploy/20.providers/platform-sh",{"title":189,"path":190,"stem":191},"Render.com","/deploy/providers/render","2.deploy/20.providers/render",{"title":193,"path":194,"stem":195},"StormKit","/deploy/providers/stormkit","2.deploy/20.providers/stormkit",{"title":197,"path":198,"stem":199},"Vercel","/deploy/providers/vercel","2.deploy/20.providers/vercel",{"title":201,"path":202,"stem":203},"Zeabur","/deploy/providers/zeabur","2.deploy/20.providers/zeabur",{"title":205,"path":206,"stem":207},"Zerops","/deploy/providers/zerops","2.deploy/20.providers/zerops",{"title":33,"path":209,"stem":210,"children":211,"icon":36},"/config","3.config/0.index",[212],{"title":33,"path":209,"stem":210,"icon":36},{"title":214,"path":215,"stem":216,"children":217,"icon":219},"示例","/examples","4.examples/0.index",[218],{"title":214,"path":215,"stem":216,"icon":219},"i-lucide-folder-code",{"title":5,"path":221,"stem":222},"/","index",{"id":224,"title":73,"body":225,"description":5,"extension":789,"meta":790,"navigation":791,"path":74,"seo":792,"stem":75,"__hash__":793},"content/1.docs/99.migration.md",{"type":226,"value":227,"toc":778,"icon":76},"minimark",[228,235,238,250,265,282,287,337,347,362,366,373,388,392,401,410,414,431,434,441,451,466,469,480,483,487,494,497,500,503,691,694,697,730,736,741,760,763,774],[229,230,231],"note",{},[232,233,234],"p",{},"\n这是一个关于从 Nitro 2 迁移到 3 的活文档。在使用测试版时请定期检查。",[232,236,237],{},"Nitro v3 引入了故意的不向后兼容的更改。本指南帮助您从 Nitro v2 迁移。",[239,240,242,246,247],"h2",{"id":241},"nitropack-重命名为-nitro",[243,244,245],"code",{},"nitropack"," 重命名为 ",[243,248,249],{},"nitro",[232,251,252,253,259,260,264],{},"NPM 包 ",[254,255,245],"a",{"href":256,"rel":257},"https://www.npmjs.com/package/nitropack",[258],"nofollow","（v2）已更名为 ",[254,261,249],{"href":262,"rel":263},"https://www.npmjs.com/package/nitro",[258],"（v3）。",[232,266,267,271,272,275,276,278,279,281],{},[268,269,270],"strong",{},"迁移："," 在 ",[243,273,274],{},"package.json"," 中更新 ",[243,277,245],{}," 依赖为 ",[243,280,249],{},"：",[229,283,284],{},[232,285,286],{},"\n目前只提供夜间版本。",[288,289,294],"pre",{"className":290,"code":291,"filename":292,"language":293,"meta":5,"style":5},"language-diff shiki shiki-themes github-light github-dark github-dark","{\n  \"dependencies\": {\n--    \"nitropack\": \"latest\"\n++    \"nitro\": \"npm:nitro-nightly\"\n  }\n}\n","nightly channel","diff",[243,295,296,305,311,318,325,331],{"__ignoreMap":5},[297,298,301],"span",{"class":299,"line":300},"line",1,[297,302,304],{"class":303},"slsVL","{\n",[297,306,308],{"class":299,"line":307},2,[297,309,310],{"class":303},"  \"dependencies\": {\n",[297,312,314],{"class":299,"line":313},3,[297,315,317],{"class":316},"sLpD_","--    \"nitropack\": \"latest\"\n",[297,319,321],{"class":299,"line":320},4,[297,322,324],{"class":323},"sByVh","++    \"nitro\": \"npm:nitro-nightly\"\n",[297,326,328],{"class":299,"line":327},5,[297,329,330],{"class":303},"  }\n",[297,332,334],{"class":299,"line":333},6,[297,335,336],{"class":303},"}\n",[232,338,339,341,342,344,345,281],{},[268,340,270],{}," 在您的代码库中搜索并将所有 ",[243,343,245],{}," 实例重命名为 ",[243,346,249],{},[288,348,350],{"className":290,"code":349,"language":293,"meta":5,"style":5},"-- import { defineNitroConfig } from \"nitropack/config\"\n++ import { defineNitroConfig } from \"nitro/config\"\n",[243,351,352,357],{"__ignoreMap":5},[297,353,354],{"class":299,"line":300},[297,355,356],{"class":316},"-- import { defineNitroConfig } from \"nitropack/config\"\n",[297,358,359],{"class":299,"line":307},[297,360,361],{"class":323},"++ import { defineNitroConfig } from \"nitro/config\"\n",[239,363,365],{"id":364},"nitroruntime","nitro/runtime",[232,367,368,369,372],{},"运行时工具已被移至各自的 ",[243,370,371],{},"nitro/*"," 子路径导出。请参考文档以了解用法。",[288,374,376],{"className":290,"code":375,"language":293,"meta":5,"style":5},"-- import { useStorage } from \"nitropack/runtime/storage\"\n++ import { useStorage } from \"nitro/storage\"\n",[243,377,378,383],{"__ignoreMap":5},[297,379,380],{"class":299,"line":300},[297,381,382],{"class":316},"-- import { useStorage } from \"nitropack/runtime/storage\"\n",[297,384,385],{"class":299,"line":307},[297,386,387],{"class":323},"++ import { useStorage } from \"nitro/storage\"\n",[239,389,391],{"id":390},"最低支持的-nodejs-版本20","最低支持的 Node.js 版本：20",[232,393,394,395,400],{},"Nitro 现在要求最低 Node.js 版本为 20，因为 Node.js 18 将在 ",[254,396,399],{"href":397,"rel":398},"https://node.zhcndoc.com/zh-cn/about/previous-releases",[258],"2025 年 4 月"," 达到生命周期结束。",[232,402,403,404,409],{},"请升级到 ",[254,405,408],{"href":406,"rel":407},"https://node.zhcndoc.com/zh-cn/download",[258],"最新的 LTS"," 版本（>= 20）。",[232,411,412],{},[268,413,270],{},[415,416,417,425,428],"ul",{},[418,419,420,421,424],"li",{},"使用 ",[243,422,423],{},"node --version"," 检查您的本地 Node.js 版本，如有必要请更新。",[418,426,427],{},"如果您使用 CI/CD 系统进行部署，请确保您的管道正在运行 Node.js 20 或更高版本。",[418,429,430],{},"如果您的托管提供商管理 Node.js 运行时，请确保它设置为版本 20、22 或更高。",[239,432,433],{"id":433},"类型导入",[232,435,436,437,440],{},"Nitro 类型现在仅从 ",[243,438,439],{},"nitro/types"," 导出。",[232,442,443,445,446,448,449,281],{},[268,444,270],{}," 从 ",[243,447,439],{}," 导入类型，而不是从 ",[243,450,249],{},[288,452,454],{"className":290,"code":453,"language":293,"meta":5,"style":5},"-- import { NitroRuntimeConfig } from \"nitropack\"\n++ import { NitroRuntimeConfig } from \"nitro/types\"\n",[243,455,456,461],{"__ignoreMap":5},[297,457,458],{"class":299,"line":300},[297,459,460],{"class":316},"-- import { NitroRuntimeConfig } from \"nitropack\"\n",[297,462,463],{"class":299,"line":307},[297,464,465],{"class":323},"++ import { NitroRuntimeConfig } from \"nitro/types\"\n",[239,467,468],{"id":468},"应用配置支持已移除",[232,470,471,472,475,476,479],{},"Nitro v2 支持一个捆绑的应用配置，可以在 ",[243,473,474],{},"app.config.ts"," 中定义配置，并通过 ",[243,477,478],{},"useAppConfig()"," 在运行时访问它们。",[232,481,482],{},"此功能已被移除。",[232,484,485],{},[268,486,270],{},[232,488,489,490,493],{},"在您的服务器目录中使用常规的 ",[243,491,492],{},".ts"," 文件并直接导入。",[239,495,496],{"id":496},"预设更新",[232,498,499],{},"Nitro 预设已更新以确保与最新版本兼容。",[232,501,502],{},"一些（遗留）预设已被移除或重命名。",[504,505,506,519],"table",{},[507,508,509],"thead",{},[510,511,512,516],"tr",{},[513,514,515],"th",{},"旧预设",[513,517,518],{},"新预设",[520,521,522,540,559,572,588,601,616,628,640,652,662,672,682],"tbody",{},[510,523,524,530],{},[525,526,527],"td",{},[243,528,529],{},"node",[525,531,532,535,536,539],{},[243,533,534],{},"node-middleware","（导出更改为 ",[243,537,538],{},"middleware","）",[510,541,542,554],{},[525,543,544,547,548,547,551],{},[243,545,546],{},"cloudflare",", ",[243,549,550],{},"cloudflare_worker",[243,552,553],{},"cloudflare_module_legacy",[525,555,556],{},[243,557,558],{},"cloudflare_module",[510,560,561,566],{},[525,562,563],{},[243,564,565],{},"deno-server-legacy",[525,567,568,571],{},[243,569,570],{},"deno_server","，使用 Deno v2",[510,573,574,579],{},[525,575,576],{},[243,577,578],{},"netlify-builder",[525,580,581,584,585],{},[243,582,583],{},"netlify_functions"," 或 ",[243,586,587],{},"netlify_edge",[510,589,590,595],{},[525,591,592],{},[243,593,594],{},"vercel-edge",[525,596,597,600],{},[243,598,599],{},"vercel","，启用 Fluid 计算",[510,602,603,611],{},[525,604,605,547,608],{},[243,606,607],{},"azure",[243,609,610],{},"azure_functions",[525,612,613],{},[243,614,615],{},"azure_swa",[510,617,618,623],{},[525,619,620],{},[243,621,622],{},"firebase",[525,624,625],{},[243,626,627],{},"firebase-functions",[510,629,630,635],{},[525,631,632],{},[243,633,634],{},"iis",[525,636,637],{},[243,638,639],{},"iis-handler",[510,641,642,647],{},[525,643,644],{},[243,645,646],{},"deno",[525,648,649],{},[243,650,651],{},"deno-deploy",[510,653,654,659],{},[525,655,656],{},[243,657,658],{},"edgio",[525,660,661],{},"已停产",[510,663,664,669],{},[525,665,666],{},[243,667,668],{},"cli",[525,670,671],{},"因使用不足而移除",[510,673,674,679],{},[525,675,676],{},[243,677,678],{},"service_worker",[525,680,681],{},"因不稳定性而移除",[510,683,684,688],{},[525,685,686],{},[243,687,622],{},[525,689,690],{},"使用新的 Firebase 应用托管",[239,692,693],{"id":693},"移除的子路径导出",[232,695,696],{},"Nitro v2 引入了多个子路径导出，其中一些已被移除或更新：",[415,698,699,712,719,725],{},[418,700,701,704,705,708,709,539],{},[243,702,703],{},"nitro/rollup","、",[243,706,707],{},"nitropack/core","（请使用 ",[243,710,711],{},"nitro/builder",[418,713,714,708,717,539],{},[243,715,716],{},"nitropack/runtime/*",[243,718,371],{},[418,720,721,724],{},[243,722,723],{},"nitropack/kit","（已移除）",[418,726,727,724],{},[243,728,729],{},"nitropack/presets",[232,731,732,733,735],{},"曾经引入了一个实验性的 ",[243,734,723],{},"，但现在已经被移除。未来可能会推出一个独立的 Nitro Kit 包，并且目标会更加明确。",[232,737,738],{},[268,739,740],{},"Migration:",[415,742,743,757],{},[418,744,745,746,748,749,752,753,756],{},"使用来自 ",[243,747,439],{}," 的 ",[243,750,751],{},"NitroModule","，而不是来自 kit 的 ",[243,754,755],{},"defineNitroModule","。",[418,758,759],{},"优先使用内置的 Nitro 预设（外部预设仅供评估使用）。",[239,761,762],{"id":762},"可选钩子",[232,764,765,766,769,770,773],{},"如果您之前在 Nitro 插件外部使用过 ",[243,767,768],{},"useNitroApp().hooks","，它可能为 undefined。请使用新的 ",[243,771,772],{},"useNitroHooks()"," 来保证获得实例。",[775,776,777],"style",{},"html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sLpD_, html code.shiki .sLpD_{--shiki-light:#B31D28;--shiki-default:#FDAEB7;--shiki-dark:#FDAEB7}html pre.shiki code .sByVh, html code.shiki .sByVh{--shiki-light:#22863A;--shiki-default:#85E89D;--shiki-dark:#85E89D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":5,"searchDepth":307,"depth":307,"links":779},[780,782,783,784,785,786,787,788],{"id":241,"depth":307,"text":781},"nitropack 重命名为 nitro",{"id":364,"depth":307,"text":365},{"id":390,"depth":307,"text":391},{"id":433,"depth":307,"text":433},{"id":468,"depth":307,"text":468},{"id":496,"depth":307,"text":496},{"id":693,"depth":307,"text":693},{"id":762,"depth":307,"text":762},"md",{"icon":76},{"icon":76},{"title":73,"description":5},"K9CFwH9Xb4OC3kTW2czqWpPx-zBh3Iu-5g6ZO6tA9bw",[795,797],{"title":68,"path":69,"stem":70,"description":796,"icon":71,"children":-1},"Nitro 提供了一个内置存储层，可以抽象文件系统、数据库或任何其他数据源。",{"title":78,"path":79,"stem":80,"description":798,"icon":81,"children":-1},"Nitro 有一个夜间发布通道，对于每次对 main 分支的提交会自动发布，以尝试最新的更改。",1771507939083]