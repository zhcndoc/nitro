[{"data":1,"prerenderedAt":3381},["ShallowReactive",2],{"navigation":3,"examples-nav":223,"-examples-websocket":356,"-examples-websocket-surround":3376},[4,83,208,213,220],{"title":5,"path":6,"stem":7,"children":8,"icon":82},"","/docs","1.docs/1.index",[9,12,17,22,27,32,37,42,47,52,57,62,67,72,77],{"title":10,"path":6,"stem":7,"icon":11},"介绍","i-lucide-compass",{"title":13,"path":14,"stem":15,"icon":16},"快速开始","/docs/quick-start","1.docs/2.quick-start","i-lucide-zap",{"title":18,"path":19,"stem":20,"icon":21},"渲染器","/docs/renderer","1.docs/4.renderer","ri:layout-masonry-line",{"title":23,"path":24,"stem":25,"icon":26},"服务器路由","/docs/routing","1.docs/5.routing","ri:direction-line",{"title":28,"path":29,"stem":30,"icon":31},"资源","/docs/assets","1.docs/50.assets","ri:image-2-line",{"title":33,"path":34,"stem":35,"icon":36},"配置","/docs/configuration","1.docs/50.configuration","ri:settings-3-line",{"title":38,"path":39,"stem":40,"icon":41},"数据库","/docs/database","1.docs/50.database","ri:database-2-line",{"title":43,"path":44,"stem":45,"icon":46},"生命周期","/docs/lifecycle","1.docs/50.lifecycle","i-lucide-layers",{"title":48,"path":49,"stem":50,"icon":51},"插件","/docs/plugins","1.docs/50.plugins","ri:plug-line",{"title":53,"path":54,"stem":55,"icon":56},"任务","/docs/tasks","1.docs/50.tasks","codicon:run-all",{"title":58,"path":59,"stem":60,"icon":61},"服务器入口","/docs/server-entry","1.docs/6.server-entry","ri:server-line",{"title":63,"path":64,"stem":65,"icon":66},"缓存","/docs/cache","1.docs/7.cache","ri:speed-line",{"title":68,"path":69,"stem":70,"icon":71},"KV 存储","/docs/storage","1.docs/8.storage","carbon:datastore",{"title":73,"path":74,"stem":75,"icon":76},"迁移指南","/docs/migration","1.docs/99.migration","ri:arrow-right-up-line",{"title":78,"path":79,"stem":80,"icon":81},"夜间通道","/docs/nightly","1.docs/99.nightly","ri:moon-fill","i-lucide-book-open",{"title":84,"path":85,"stem":86,"children":87,"icon":89},"概述","/deploy","2.deploy/0.index",[88,90,111],{"title":84,"path":85,"stem":86,"icon":89},"ri:upload-cloud-2-line",{"title":91,"path":92,"stem":93,"children":94,"page":110},"Runtimes","/deploy/runtimes","2.deploy/10.runtimes",[95,100,105],{"title":96,"path":97,"stem":98,"icon":99},"Node.js","/deploy/runtimes/node","2.deploy/10.runtimes/1.node","akar-icons:node-fill",{"title":101,"path":102,"stem":103,"icon":104},"Bun","/deploy/runtimes/bun","2.deploy/10.runtimes/bun","simple-icons:bun",{"title":106,"path":107,"stem":108,"icon":109},"Deno","/deploy/runtimes/deno","2.deploy/10.runtimes/deno","simple-icons:deno",false,{"title":112,"path":113,"stem":114,"children":115,"page":110},"Providers","/deploy/providers","2.deploy/20.providers",[116,120,124,128,132,136,140,144,148,152,156,160,164,168,172,176,180,184,188,192,196,200,204],{"title":117,"path":118,"stem":119},"Alwaysdata","/deploy/providers/alwaysdata","2.deploy/20.providers/alwaysdata",{"title":121,"path":122,"stem":123},"AWS Lambda","/deploy/providers/aws","2.deploy/20.providers/aws",{"title":125,"path":126,"stem":127},"AWS Amplify","/deploy/providers/aws-amplify","2.deploy/20.providers/aws-amplify",{"title":129,"path":130,"stem":131},"Azure","/deploy/providers/azure","2.deploy/20.providers/azure",{"title":133,"path":134,"stem":135},"Cleavr","/deploy/providers/cleavr","2.deploy/20.providers/cleavr",{"title":137,"path":138,"stem":139},"Cloudflare","/deploy/providers/cloudflare","2.deploy/20.providers/cloudflare",{"title":141,"path":142,"stem":143},"Deno Deploy","/deploy/providers/deno-deploy","2.deploy/20.providers/deno-deploy",{"title":145,"path":146,"stem":147},"DigitalOcean","/deploy/providers/digitalocean","2.deploy/20.providers/digitalocean",{"title":149,"path":150,"stem":151},"Firebase","/deploy/providers/firebase","2.deploy/20.providers/firebase",{"title":153,"path":154,"stem":155},"Flightcontrol","/deploy/providers/flightcontrol","2.deploy/20.providers/flightcontrol",{"title":157,"path":158,"stem":159},"Genezio","/deploy/providers/genezio","2.deploy/20.providers/genezio",{"title":161,"path":162,"stem":163},"GitHub Pages","/deploy/providers/github-pages","2.deploy/20.providers/github-pages",{"title":165,"path":166,"stem":167},"GitLab Pages","/deploy/providers/gitlab-pages","2.deploy/20.providers/gitlab-pages",{"title":169,"path":170,"stem":171},"Heroku","/deploy/providers/heroku","2.deploy/20.providers/heroku",{"title":173,"path":174,"stem":175},"IIS","/deploy/providers/iis","2.deploy/20.providers/iis",{"title":177,"path":178,"stem":179},"Koyeb","/deploy/providers/koyeb","2.deploy/20.providers/koyeb",{"title":181,"path":182,"stem":183},"Netlify","/deploy/providers/netlify","2.deploy/20.providers/netlify",{"title":185,"path":186,"stem":187},"Platform.sh","/deploy/providers/platform-sh","2.deploy/20.providers/platform-sh",{"title":189,"path":190,"stem":191},"Render.com","/deploy/providers/render","2.deploy/20.providers/render",{"title":193,"path":194,"stem":195},"StormKit","/deploy/providers/stormkit","2.deploy/20.providers/stormkit",{"title":197,"path":198,"stem":199},"Vercel","/deploy/providers/vercel","2.deploy/20.providers/vercel",{"title":201,"path":202,"stem":203},"Zeabur","/deploy/providers/zeabur","2.deploy/20.providers/zeabur",{"title":205,"path":206,"stem":207},"Zerops","/deploy/providers/zerops","2.deploy/20.providers/zerops",{"title":33,"path":209,"stem":210,"children":211,"icon":36},"/config","3.config/0.index",[212],{"title":33,"path":209,"stem":210,"icon":36},{"title":214,"path":215,"stem":216,"children":217,"icon":219},"示例","/examples","4.examples/0.index",[218],{"title":214,"path":215,"stem":216,"icon":219},"i-lucide-folder-code",{"title":5,"path":221,"stem":222},"/","index",[224,229,234,238,242,245,250,255,259,263,267,271,275,280,284,288,293,297,301,306,310,315,319,323,327,332,336,340,344,348,352],{"title":225,"description":226,"category":227,"path":228},"API 路由","基于文件的 API 路由，支持 HTTP 方法和动态参数。","features","/examples/api-routes/readme",{"title":230,"description":231,"category":232,"path":233},"自动导入","实用工具和组合式函数的自动导入。","config","/examples/auto-imports/readme",{"title":235,"description":236,"category":227,"path":237},"缓存处理器","使用可配置的绕过逻辑缓存路由响应。","/examples/cached-handler/readme",{"title":239,"description":240,"category":227,"path":241},"自定义错误处理器","使用全局错误处理器自定义错误响应。","/examples/custom-error-handler/readme",{"title":38,"description":243,"category":227,"path":244},"内置数据库支持，使用 SQL 模板字面量。","/examples/database/readme",{"title":246,"description":247,"category":248,"path":249},"Elysia","使用服务端入口将 Elysia 与 Nitro 集成。","后端框架","/examples/elysia/readme",{"title":251,"description":252,"category":253,"path":254},"Express","使用服务器入口将 Express 集成到 Nitro 中。","backend frameworks","/examples/express/readme",{"title":256,"description":257,"category":253,"path":258},"Fastify","使用服务器入口将 Fastify 与 Nitro 集成。","/examples/fastify/readme",{"title":260,"description":261,"category":227,"path":262},"你好，世界","使用 Web 标准 fetch 处理程序的最简 Nitro 服务器。","/examples/hello-world/readme",{"title":264,"description":265,"category":248,"path":266},"Hono","使用服务器入口将 Hono 集成到 Nitro 中。","/examples/hono/readme",{"title":268,"description":269,"category":232,"path":270},"导入别名","自定义导入别名，使模块路径更简洁。","/examples/import-alias/readme",{"title":272,"description":273,"category":227,"path":274},"中间件","用于身份验证、日志记录和请求修改的请求中间件。","/examples/middleware/readme",{"title":276,"description":277,"category":278,"path":279},"Mono JSX","在 Nitro 中使用 mono-jsx 进行服务器端 JSX 渲染。","服务器端渲染","/examples/mono-jsx/readme",{"title":281,"description":282,"category":278,"path":283},"Nano JSX","在 Nitro 中使用 nano-jsx 进行服务器端 JSX 渲染。","/examples/nano-jsx/readme",{"title":285,"description":286,"category":227,"path":287},"插件（Plugins）","使用自定义插件扩展 Nitro，用于钩子和生命周期事件。","/examples/plugins/readme",{"title":289,"description":290,"category":291,"path":292},"自定义渲染器","使用 Nitro 构建一个具有服务端数据获取功能的自定义 HTML 渲染器。","server side rendering","/examples/renderer/readme",{"title":294,"description":295,"category":232,"path":296},"运行时配置","支持运行时访问的环境感知配置。","/examples/runtime-config/readme",{"title":298,"description":299,"category":227,"path":300},"服务器请求","内部服务器到服务器的请求，无网络开销。","/examples/server-fetch/readme",{"title":302,"description":303,"category":304,"path":305},"Shiki","使用 Shiki 实现在 Nitro 中的服务器端语法高亮。","integrations","/examples/shiki/readme",{"title":307,"description":308,"category":227,"path":309},"虚拟路由","使用 Nitro 的虚拟模块系统以编程方式定义路由。","/examples/virtual-routes/readme",{"title":311,"description":312,"category":313,"path":314},"Vite Nitro 插件","将 Nitro 用作 Vite 插件，以编程方式配置。","vite","/examples/vite-nitro-plugin/readme",{"title":316,"description":317,"category":313,"path":318},"Vite RSC","使用 Vite 和 Nitro 的 React 服务器组件。","/examples/vite-rsc/readme",{"title":320,"description":321,"category":278,"path":322},"Vite SSR HTML","使用原生 HTML、Vite 和 Nitro 实现服务器端渲染。","/examples/vite-ssr-html/readme",{"title":324,"description":325,"category":278,"path":326},"使用 Preact 进行 SSR","在 Nitro 中使用 Vite 和 Preact 实现服务器端渲染。","/examples/vite-ssr-preact/readme",{"title":328,"description":329,"category":330,"path":331},"使用 React 实现 SSR","在 Nitro 中使用 Vite 进行 React 的服务端渲染。","服务端渲染","/examples/vite-ssr-react/readme",{"title":333,"description":334,"category":330,"path":335},"使用 SolidJS 进行 SSR","在 Nitro 中使用 Vite 进行 SolidJS 服务端渲染。","/examples/vite-ssr-solid/readme",{"title":337,"description":338,"category":278,"path":339},"使用 TanStack Router 实现 SSR","在 Nitro 中使用 Vite 结合 TanStack Router 实现客户端路由。","/examples/vite-ssr-tsr-react/readme",{"title":341,"description":342,"category":278,"path":343},"使用 TanStack Start 进行 SSR","使用 Vite 在 Nitro 中使用 TanStack Start 实现全栈 React。","/examples/vite-ssr-tss-react/readme",{"title":345,"description":346,"category":291,"path":347},"使用 Vue Router 的 SSR","使用 Vite 的 Nitro 中使用 Vue Router 进行服务端渲染。","/examples/vite-ssr-vue-router/readme",{"title":349,"description":350,"category":313,"path":351},"Vite + tRPC","使用 Vite 在 Nitro 中通过 tRPC 实现端到端类型安全的 API。","/examples/vite-trpc/readme",{"title":353,"description":354,"category":227,"path":355},"WebSocket","支持 WebSocket 的实时双向通信。","/examples/websocket/readme",{"id":357,"title":353,"body":358,"category":227,"description":354,"extension":3369,"icon":3370,"meta":3371,"navigation":3372,"path":355,"seo":3373,"stem":3374,"__hash__":3375},"examples/examples/websocket/README.md",{"type":359,"value":360,"toc":3365},"minimark",[361,3060,3063,3068,3075,3335,3341,3344,3362],[362,363,366,2526,2600,2686,2710,2764],"code-tree",{":expand-all":364,"default-value":365,"expand-all":5},"true","routes/_ws.ts",[367,368,373],"pre",{"className":369,"code":370,"filename":371,"language":372,"meta":5,"style":5},"language-html shiki shiki-themes github-light github-dark github-dark","\u003Chtml lang=\"en\" data-theme=\"dark\">\n  \u003Chead>\n    \u003Ctitle>CrossWS Test Page\u003C/title>\n    \u003Cscript src=\"https://cdn.tailwindcss.com\">\u003C/script>\n    \u003Cstyle>\n      body {\n        background-color: #1a1a1a;\n      }\n    \u003C/style>\n    \u003Cscript type=\"module\">\n      import { createApp, reactive, nextTick } from \"https://esm.sh/petite-vue@0.4.1\";\n\n      let ws;\n\n      const store = reactive({\n        message: \"\",\n        messages: [],\n      });\n\n      const scroll = () => {\n        nextTick(() => {\n          const el = document.querySelector(\"#messages\");\n          el.scrollTop = el.scrollHeight;\n          el.scrollTo({\n            top: el.scrollHeight,\n            behavior: \"smooth\",\n          });\n        });\n      };\n\n      const format = async () => {\n        for (const message of store.messages) {\n          if (!message._fmt && message.text.startsWith(\"{\")) {\n            message._fmt = true;\n            const { codeToHtml } = await import(\"https://esm.sh/shiki@1.0.0\");\n            const str = JSON.stringify(JSON.parse(message.text), null, 2);\n            message.formattedText = await codeToHtml(str, {\n              lang: \"json\",\n              theme: \"dark-plus\",\n            });\n          }\n        }\n      };\n\n      const log = (user, ...args) => {\n        console.log(\"[ws]\", user, ...args);\n        store.messages.push({\n          text: args.join(\" \"),\n          formattedText: \"\",\n          user: user,\n          date: new Date().toLocaleString(),\n        });\n        scroll();\n        format();\n      };\n\n      const connect = async () => {\n        const isSecure = location.protocol === \"https:\";\n        const url = (isSecure ? \"wss://\" : \"ws://\") + location.host + \"/_ws\";\n        if (ws) {\n          log(\"ws\", \"Closing previous connection before reconnecting...\");\n          ws.close();\n          clear();\n        }\n\n        log(\"ws\", \"Connecting to\", url, \"...\");\n        ws = new WebSocket(url);\n\n        ws.addEventListener(\"message\", async (event) => {\n          let data = typeof event.data === \"string\" ? event.data : await event.data.text();\n          const { user = \"system\", message = \"\" } = data.startsWith(\"{\")\n            ? JSON.parse(data)\n            : { message: data };\n          log(user, typeof message === \"string\" ? message : JSON.stringify(message));\n        });\n\n        await new Promise((resolve) => ws.addEventListener(\"open\", resolve));\n        log(\"ws\", \"Connected!\");\n      };\n\n      const clear = () => {\n        store.messages.splice(0, store.messages.length);\n        log(\"system\", \"previous messages cleared\");\n      };\n\n      const send = () => {\n        console.log(\"sending message...\");\n        if (store.message) {\n          ws.send(store.message);\n        }\n        store.message = \"\";\n      };\n\n      const ping = () => {\n        log(\"ws\", \"Sending ping\");\n        ws.send(\"ping\");\n      };\n\n      createApp({\n        store,\n        send,\n        ping,\n        clear,\n        connect,\n        rand: Math.random(),\n      }).mount();\n\n      await connect();\n    \u003C/script>\n  \u003C/head>\n  \u003Cbody class=\"h-screen flex flex-col justify-between\">\n    \u003Cmain v-scope=\"{}\">\n      \u003C!-- Messages -->\n      \u003Cdiv id=\"messages\" class=\"flex-grow flex flex-col justify-end px-4 py-8\">\n        \u003Cdiv class=\"flex items-center mb-4\" v-for=\"message in store.messages\">\n          \u003Cdiv class=\"flex flex-col\">\n            \u003Cp class=\"text-gray-500 mb-1 text-xs ml-10\">{{ message.user }}\u003C/p>\n            \u003Cdiv class=\"flex items-center\">\n              \u003Cimg\n                :src=\"'https://www.gravatar.com/avatar/' + encodeURIComponent(message.user + rand) + '?s=512&d=monsterid'\"\n                alt=\"Avatar\"\n                class=\"w-8 h-8 rounded-full\"\n              />\n              \u003Cdiv class=\"ml-2 bg-gray-800 rounded-lg p-2\">\n                \u003Cp\n                  v-if=\"message.formattedText\"\n                  class=\"overflow-x-scroll\"\n                  v-html=\"message.formattedText\"\n                >\u003C/p>\n                \u003Cp v-else class=\"text-white\">{{ message.text }}\u003C/p>\n              \u003C/div>\n            \u003C/div>\n            \u003Cp class=\"text-gray-500 mt-1 text-xs ml-10\">{{ message.date }}\u003C/p>\n          \u003C/div>\n        \u003C/div>\n      \u003C/div>\n\n      \u003C!-- Chatbox -->\n      \u003Cdiv class=\"bg-gray-800 px-4 py-2 flex items-center justify-between fixed bottom-0 w-full\">\n        \u003Cdiv class=\"w-full min-w-6\">\n          \u003Cinput\n            type=\"text\"\n            placeholder=\"Type your message...\"\n            class=\"w-full rounded-l-lg px-4 py-2 bg-gray-700 text-white focus:outline-none focus:ring focus:border-blue-300\"\n            @keydown.enter=\"send\"\n            v-model=\"store.message\"\n          />\n        \u003C/div>\n        \u003Cdiv class=\"flex\">\n          \u003Cbutton class=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\" @click=\"send\">\n            Send\n          \u003C/button>\n          \u003Cbutton class=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\" @click=\"ping\">\n            Ping\n          \u003C/button>\n          \u003Cbutton class=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\" @click=\"connect\">\n            Reconnect\n          \u003C/button>\n          \u003Cbutton\n            class=\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-r-lg\"\n            @click=\"clear\"\n          >\n            Clear\n          \u003C/button>\n        \u003C/div>\n      \u003C/div>\n    \u003C/main>\n  \u003C/body>\n\u003C/html>\n`\n","index.html","html",[374,375,376,410,421,437,460,470,479,495,501,511,528,546,553,562,567,585,597,603,609,614,632,645,671,682,693,699,710,716,722,728,733,752,773,804,817,847,890,906,917,928,934,940,946,951,956,987,1009,1020,1037,1047,1053,1074,1079,1088,1096,1101,1106,1124,1146,1186,1195,1213,1224,1232,1237,1242,1265,1282,1287,1317,1357,1397,1412,1421,1454,1459,1464,1498,1514,1519,1524,1540,1561,1578,1583,1588,1604,1618,1626,1637,1642,1654,1659,1664,1680,1696,1710,1715,1720,1728,1734,1740,1746,1752,1758,1769,1780,1785,1795,1804,1814,1832,1850,1857,1883,1908,1925,1948,1964,1973,1984,1995,2006,2012,2028,2037,2048,2059,2069,2079,2103,2113,2123,2144,2154,2164,2174,2179,2185,2201,2217,2225,2236,2247,2258,2269,2280,2286,2295,2311,2336,2342,2351,2372,2378,2387,2409,2415,2424,2432,2442,2453,2459,2465,2474,2483,2492,2501,2510,2520],"code",{"__ignoreMap":5},[377,378,381,385,388,392,395,399,402,404,407],"span",{"class":379,"line":380},"line",1,[377,382,384],{"class":383},"slsVL","\u003C",[377,386,372],{"class":387},"sByVh",[377,389,391],{"class":390},"shcOC"," lang",[377,393,394],{"class":383},"=",[377,396,398],{"class":397},"sfrk1","\"en\"",[377,400,401],{"class":390}," data-theme",[377,403,394],{"class":383},[377,405,406],{"class":397},"\"dark\"",[377,408,409],{"class":383},">\n",[377,411,413,416,419],{"class":379,"line":412},2,[377,414,415],{"class":383},"  \u003C",[377,417,418],{"class":387},"head",[377,420,409],{"class":383},[377,422,424,427,430,433,435],{"class":379,"line":423},3,[377,425,426],{"class":383},"    \u003C",[377,428,429],{"class":387},"title",[377,431,432],{"class":383},">CrossWS Test Page\u003C/",[377,434,429],{"class":387},[377,436,409],{"class":383},[377,438,440,442,445,448,450,453,456,458],{"class":379,"line":439},4,[377,441,426],{"class":383},[377,443,444],{"class":387},"script",[377,446,447],{"class":390}," src",[377,449,394],{"class":383},[377,451,452],{"class":397},"\"https://cdn.tailwindcss.com\"",[377,454,455],{"class":383},">\u003C/",[377,457,444],{"class":387},[377,459,409],{"class":383},[377,461,463,465,468],{"class":379,"line":462},5,[377,464,426],{"class":383},[377,466,467],{"class":387},"style",[377,469,409],{"class":383},[377,471,473,476],{"class":379,"line":472},6,[377,474,475],{"class":387},"      body",[377,477,478],{"class":383}," {\n",[377,480,482,486,489,492],{"class":379,"line":481},7,[377,483,485],{"class":484},"suiK_","        background-color",[377,487,488],{"class":383},": ",[377,490,491],{"class":484},"#1a1a1a",[377,493,494],{"class":383},";\n",[377,496,498],{"class":379,"line":497},8,[377,499,500],{"class":383},"      }\n",[377,502,504,507,509],{"class":379,"line":503},9,[377,505,506],{"class":383},"    \u003C/",[377,508,467],{"class":387},[377,510,409],{"class":383},[377,512,514,516,518,521,523,526],{"class":379,"line":513},10,[377,515,426],{"class":383},[377,517,444],{"class":387},[377,519,520],{"class":390}," type",[377,522,394],{"class":383},[377,524,525],{"class":397},"\"module\"",[377,527,409],{"class":383},[377,529,531,535,538,541,544],{"class":379,"line":530},11,[377,532,534],{"class":533},"so5gQ","      import",[377,536,537],{"class":383}," { createApp, reactive, nextTick } ",[377,539,540],{"class":533},"from",[377,542,543],{"class":397}," \"https://esm.sh/petite-vue@0.4.1\"",[377,545,494],{"class":383},[377,547,549],{"class":379,"line":548},12,[377,550,552],{"emptyLinePlaceholder":551},true,"\n",[377,554,556,559],{"class":379,"line":555},13,[377,557,558],{"class":533},"      let",[377,560,561],{"class":383}," ws;\n",[377,563,565],{"class":379,"line":564},14,[377,566,552],{"emptyLinePlaceholder":551},[377,568,570,573,576,579,582],{"class":379,"line":569},15,[377,571,572],{"class":533},"      const",[377,574,575],{"class":484}," store",[377,577,578],{"class":533}," =",[377,580,581],{"class":390}," reactive",[377,583,584],{"class":383},"({\n",[377,586,588,591,594],{"class":379,"line":587},16,[377,589,590],{"class":383},"        message: ",[377,592,593],{"class":397},"\"\"",[377,595,596],{"class":383},",\n",[377,598,600],{"class":379,"line":599},17,[377,601,602],{"class":383},"        messages: [],\n",[377,604,606],{"class":379,"line":605},18,[377,607,608],{"class":383},"      });\n",[377,610,612],{"class":379,"line":611},19,[377,613,552],{"emptyLinePlaceholder":551},[377,615,617,619,622,624,627,630],{"class":379,"line":616},20,[377,618,572],{"class":533},[377,620,621],{"class":390}," scroll",[377,623,578],{"class":533},[377,625,626],{"class":383}," () ",[377,628,629],{"class":533},"=>",[377,631,478],{"class":383},[377,633,635,638,641,643],{"class":379,"line":634},21,[377,636,637],{"class":390},"        nextTick",[377,639,640],{"class":383},"(() ",[377,642,629],{"class":533},[377,644,478],{"class":383},[377,646,648,651,654,656,659,662,665,668],{"class":379,"line":647},22,[377,649,650],{"class":533},"          const",[377,652,653],{"class":484}," el",[377,655,578],{"class":533},[377,657,658],{"class":383}," document.",[377,660,661],{"class":390},"querySelector",[377,663,664],{"class":383},"(",[377,666,667],{"class":397},"\"#messages\"",[377,669,670],{"class":383},");\n",[377,672,674,677,679],{"class":379,"line":673},23,[377,675,676],{"class":383},"          el.scrollTop ",[377,678,394],{"class":533},[377,680,681],{"class":383}," el.scrollHeight;\n",[377,683,685,688,691],{"class":379,"line":684},24,[377,686,687],{"class":383},"          el.",[377,689,690],{"class":390},"scrollTo",[377,692,584],{"class":383},[377,694,696],{"class":379,"line":695},25,[377,697,698],{"class":383},"            top: el.scrollHeight,\n",[377,700,702,705,708],{"class":379,"line":701},26,[377,703,704],{"class":383},"            behavior: ",[377,706,707],{"class":397},"\"smooth\"",[377,709,596],{"class":383},[377,711,713],{"class":379,"line":712},27,[377,714,715],{"class":383},"          });\n",[377,717,719],{"class":379,"line":718},28,[377,720,721],{"class":383},"        });\n",[377,723,725],{"class":379,"line":724},29,[377,726,727],{"class":383},"      };\n",[377,729,731],{"class":379,"line":730},30,[377,732,552],{"emptyLinePlaceholder":551},[377,734,736,738,741,743,746,748,750],{"class":379,"line":735},31,[377,737,572],{"class":533},[377,739,740],{"class":390}," format",[377,742,578],{"class":533},[377,744,745],{"class":533}," async",[377,747,626],{"class":383},[377,749,629],{"class":533},[377,751,478],{"class":383},[377,753,755,758,761,764,767,770],{"class":379,"line":754},32,[377,756,757],{"class":533},"        for",[377,759,760],{"class":383}," (",[377,762,763],{"class":533},"const",[377,765,766],{"class":484}," message",[377,768,769],{"class":533}," of",[377,771,772],{"class":383}," store.messages) {\n",[377,774,776,779,781,784,787,790,793,796,798,801],{"class":379,"line":775},33,[377,777,778],{"class":533},"          if",[377,780,760],{"class":383},[377,782,783],{"class":533},"!",[377,785,786],{"class":383},"message._fmt ",[377,788,789],{"class":533},"&&",[377,791,792],{"class":383}," message.text.",[377,794,795],{"class":390},"startsWith",[377,797,664],{"class":383},[377,799,800],{"class":397},"\"{\"",[377,802,803],{"class":383},")) {\n",[377,805,807,810,812,815],{"class":379,"line":806},34,[377,808,809],{"class":383},"            message._fmt ",[377,811,394],{"class":533},[377,813,814],{"class":484}," true",[377,816,494],{"class":383},[377,818,820,823,826,829,832,834,837,840,842,845],{"class":379,"line":819},35,[377,821,822],{"class":533},"            const",[377,824,825],{"class":383}," { ",[377,827,828],{"class":484},"codeToHtml",[377,830,831],{"class":383}," } ",[377,833,394],{"class":533},[377,835,836],{"class":533}," await",[377,838,839],{"class":533}," import",[377,841,664],{"class":383},[377,843,844],{"class":397},"\"https://esm.sh/shiki@1.0.0\"",[377,846,670],{"class":383},[377,848,850,852,855,857,860,863,866,868,871,873,876,879,882,885,888],{"class":379,"line":849},36,[377,851,822],{"class":533},[377,853,854],{"class":484}," str",[377,856,578],{"class":533},[377,858,859],{"class":484}," JSON",[377,861,862],{"class":383},".",[377,864,865],{"class":390},"stringify",[377,867,664],{"class":383},[377,869,870],{"class":484},"JSON",[377,872,862],{"class":383},[377,874,875],{"class":390},"parse",[377,877,878],{"class":383},"(message.text), ",[377,880,881],{"class":484},"null",[377,883,884],{"class":383},", ",[377,886,887],{"class":484},"2",[377,889,670],{"class":383},[377,891,893,896,898,900,903],{"class":379,"line":892},37,[377,894,895],{"class":383},"            message.formattedText ",[377,897,394],{"class":533},[377,899,836],{"class":533},[377,901,902],{"class":390}," codeToHtml",[377,904,905],{"class":383},"(str, {\n",[377,907,909,912,915],{"class":379,"line":908},38,[377,910,911],{"class":383},"              lang: ",[377,913,914],{"class":397},"\"json\"",[377,916,596],{"class":383},[377,918,920,923,926],{"class":379,"line":919},39,[377,921,922],{"class":383},"              theme: ",[377,924,925],{"class":397},"\"dark-plus\"",[377,927,596],{"class":383},[377,929,931],{"class":379,"line":930},40,[377,932,933],{"class":383},"            });\n",[377,935,937],{"class":379,"line":936},41,[377,938,939],{"class":383},"          }\n",[377,941,943],{"class":379,"line":942},42,[377,944,945],{"class":383},"        }\n",[377,947,949],{"class":379,"line":948},43,[377,950,727],{"class":383},[377,952,954],{"class":379,"line":953},44,[377,955,552],{"emptyLinePlaceholder":551},[377,957,959,961,964,966,968,972,974,977,980,983,985],{"class":379,"line":958},45,[377,960,572],{"class":533},[377,962,963],{"class":390}," log",[377,965,578],{"class":533},[377,967,760],{"class":383},[377,969,971],{"class":970},"sQHwn","user",[377,973,884],{"class":383},[377,975,976],{"class":533},"...",[377,978,979],{"class":970},"args",[377,981,982],{"class":383},") ",[377,984,629],{"class":533},[377,986,478],{"class":383},[377,988,990,993,996,998,1001,1004,1006],{"class":379,"line":989},46,[377,991,992],{"class":383},"        console.",[377,994,995],{"class":390},"log",[377,997,664],{"class":383},[377,999,1000],{"class":397},"\"[ws]\"",[377,1002,1003],{"class":383},", user, ",[377,1005,976],{"class":533},[377,1007,1008],{"class":383},"args);\n",[377,1010,1012,1015,1018],{"class":379,"line":1011},47,[377,1013,1014],{"class":383},"        store.messages.",[377,1016,1017],{"class":390},"push",[377,1019,584],{"class":383},[377,1021,1023,1026,1029,1031,1034],{"class":379,"line":1022},48,[377,1024,1025],{"class":383},"          text: args.",[377,1027,1028],{"class":390},"join",[377,1030,664],{"class":383},[377,1032,1033],{"class":397},"\" \"",[377,1035,1036],{"class":383},"),\n",[377,1038,1040,1043,1045],{"class":379,"line":1039},49,[377,1041,1042],{"class":383},"          formattedText: ",[377,1044,593],{"class":397},[377,1046,596],{"class":383},[377,1048,1050],{"class":379,"line":1049},50,[377,1051,1052],{"class":383},"          user: user,\n",[377,1054,1056,1059,1062,1065,1068,1071],{"class":379,"line":1055},51,[377,1057,1058],{"class":383},"          date: ",[377,1060,1061],{"class":533},"new",[377,1063,1064],{"class":390}," Date",[377,1066,1067],{"class":383},"().",[377,1069,1070],{"class":390},"toLocaleString",[377,1072,1073],{"class":383},"(),\n",[377,1075,1077],{"class":379,"line":1076},52,[377,1078,721],{"class":383},[377,1080,1082,1085],{"class":379,"line":1081},53,[377,1083,1084],{"class":390},"        scroll",[377,1086,1087],{"class":383},"();\n",[377,1089,1091,1094],{"class":379,"line":1090},54,[377,1092,1093],{"class":390},"        format",[377,1095,1087],{"class":383},[377,1097,1099],{"class":379,"line":1098},55,[377,1100,727],{"class":383},[377,1102,1104],{"class":379,"line":1103},56,[377,1105,552],{"emptyLinePlaceholder":551},[377,1107,1109,1111,1114,1116,1118,1120,1122],{"class":379,"line":1108},57,[377,1110,572],{"class":533},[377,1112,1113],{"class":390}," connect",[377,1115,578],{"class":533},[377,1117,745],{"class":533},[377,1119,626],{"class":383},[377,1121,629],{"class":533},[377,1123,478],{"class":383},[377,1125,1127,1130,1133,1135,1138,1141,1144],{"class":379,"line":1126},58,[377,1128,1129],{"class":533},"        const",[377,1131,1132],{"class":484}," isSecure",[377,1134,578],{"class":533},[377,1136,1137],{"class":383}," location.protocol ",[377,1139,1140],{"class":533},"===",[377,1142,1143],{"class":397}," \"https:\"",[377,1145,494],{"class":383},[377,1147,1149,1151,1154,1156,1159,1162,1165,1168,1171,1173,1176,1179,1181,1184],{"class":379,"line":1148},59,[377,1150,1129],{"class":533},[377,1152,1153],{"class":484}," url",[377,1155,578],{"class":533},[377,1157,1158],{"class":383}," (isSecure ",[377,1160,1161],{"class":533},"?",[377,1163,1164],{"class":397}," \"wss://\"",[377,1166,1167],{"class":533}," :",[377,1169,1170],{"class":397}," \"ws://\"",[377,1172,982],{"class":383},[377,1174,1175],{"class":533},"+",[377,1177,1178],{"class":383}," location.host ",[377,1180,1175],{"class":533},[377,1182,1183],{"class":397}," \"/_ws\"",[377,1185,494],{"class":383},[377,1187,1189,1192],{"class":379,"line":1188},60,[377,1190,1191],{"class":533},"        if",[377,1193,1194],{"class":383}," (ws) {\n",[377,1196,1198,1201,1203,1206,1208,1211],{"class":379,"line":1197},61,[377,1199,1200],{"class":390},"          log",[377,1202,664],{"class":383},[377,1204,1205],{"class":397},"\"ws\"",[377,1207,884],{"class":383},[377,1209,1210],{"class":397},"\"Closing previous connection before reconnecting...\"",[377,1212,670],{"class":383},[377,1214,1216,1219,1222],{"class":379,"line":1215},62,[377,1217,1218],{"class":383},"          ws.",[377,1220,1221],{"class":390},"close",[377,1223,1087],{"class":383},[377,1225,1227,1230],{"class":379,"line":1226},63,[377,1228,1229],{"class":390},"          clear",[377,1231,1087],{"class":383},[377,1233,1235],{"class":379,"line":1234},64,[377,1236,945],{"class":383},[377,1238,1240],{"class":379,"line":1239},65,[377,1241,552],{"emptyLinePlaceholder":551},[377,1243,1245,1248,1250,1252,1254,1257,1260,1263],{"class":379,"line":1244},66,[377,1246,1247],{"class":390},"        log",[377,1249,664],{"class":383},[377,1251,1205],{"class":397},[377,1253,884],{"class":383},[377,1255,1256],{"class":397},"\"Connecting to\"",[377,1258,1259],{"class":383},", url, ",[377,1261,1262],{"class":397},"\"...\"",[377,1264,670],{"class":383},[377,1266,1268,1271,1273,1276,1279],{"class":379,"line":1267},67,[377,1269,1270],{"class":383},"        ws ",[377,1272,394],{"class":533},[377,1274,1275],{"class":533}," new",[377,1277,1278],{"class":390}," WebSocket",[377,1280,1281],{"class":383},"(url);\n",[377,1283,1285],{"class":379,"line":1284},68,[377,1286,552],{"emptyLinePlaceholder":551},[377,1288,1290,1293,1296,1298,1301,1303,1306,1308,1311,1313,1315],{"class":379,"line":1289},69,[377,1291,1292],{"class":383},"        ws.",[377,1294,1295],{"class":390},"addEventListener",[377,1297,664],{"class":383},[377,1299,1300],{"class":397},"\"message\"",[377,1302,884],{"class":383},[377,1304,1305],{"class":533},"async",[377,1307,760],{"class":383},[377,1309,1310],{"class":970},"event",[377,1312,982],{"class":383},[377,1314,629],{"class":533},[377,1316,478],{"class":383},[377,1318,1320,1323,1326,1328,1331,1334,1336,1339,1342,1344,1347,1349,1352,1355],{"class":379,"line":1319},70,[377,1321,1322],{"class":533},"          let",[377,1324,1325],{"class":383}," data ",[377,1327,394],{"class":533},[377,1329,1330],{"class":533}," typeof",[377,1332,1333],{"class":383}," event.data ",[377,1335,1140],{"class":533},[377,1337,1338],{"class":397}," \"string\"",[377,1340,1341],{"class":533}," ?",[377,1343,1333],{"class":383},[377,1345,1346],{"class":533},":",[377,1348,836],{"class":533},[377,1350,1351],{"class":383}," event.data.",[377,1353,1354],{"class":390},"text",[377,1356,1087],{"class":383},[377,1358,1360,1362,1364,1366,1368,1371,1373,1376,1378,1381,1383,1385,1388,1390,1392,1394],{"class":379,"line":1359},71,[377,1361,650],{"class":533},[377,1363,825],{"class":383},[377,1365,971],{"class":484},[377,1367,578],{"class":533},[377,1369,1370],{"class":397}," \"system\"",[377,1372,884],{"class":383},[377,1374,1375],{"class":484},"message",[377,1377,578],{"class":533},[377,1379,1380],{"class":397}," \"\"",[377,1382,831],{"class":383},[377,1384,394],{"class":533},[377,1386,1387],{"class":383}," data.",[377,1389,795],{"class":390},[377,1391,664],{"class":383},[377,1393,800],{"class":397},[377,1395,1396],{"class":383},")\n",[377,1398,1400,1403,1405,1407,1409],{"class":379,"line":1399},72,[377,1401,1402],{"class":533},"            ?",[377,1404,859],{"class":484},[377,1406,862],{"class":383},[377,1408,875],{"class":390},[377,1410,1411],{"class":383},"(data)\n",[377,1413,1415,1418],{"class":379,"line":1414},73,[377,1416,1417],{"class":533},"            :",[377,1419,1420],{"class":383}," { message: data };\n",[377,1422,1424,1426,1429,1432,1435,1437,1439,1441,1443,1445,1447,1449,1451],{"class":379,"line":1423},74,[377,1425,1200],{"class":390},[377,1427,1428],{"class":383},"(user, ",[377,1430,1431],{"class":533},"typeof",[377,1433,1434],{"class":383}," message ",[377,1436,1140],{"class":533},[377,1438,1338],{"class":397},[377,1440,1341],{"class":533},[377,1442,1434],{"class":383},[377,1444,1346],{"class":533},[377,1446,859],{"class":484},[377,1448,862],{"class":383},[377,1450,865],{"class":390},[377,1452,1453],{"class":383},"(message));\n",[377,1455,1457],{"class":379,"line":1456},75,[377,1458,721],{"class":383},[377,1460,1462],{"class":379,"line":1461},76,[377,1463,552],{"emptyLinePlaceholder":551},[377,1465,1467,1470,1472,1475,1478,1481,1483,1485,1488,1490,1492,1495],{"class":379,"line":1466},77,[377,1468,1469],{"class":533},"        await",[377,1471,1275],{"class":533},[377,1473,1474],{"class":484}," Promise",[377,1476,1477],{"class":383},"((",[377,1479,1480],{"class":970},"resolve",[377,1482,982],{"class":383},[377,1484,629],{"class":533},[377,1486,1487],{"class":383}," ws.",[377,1489,1295],{"class":390},[377,1491,664],{"class":383},[377,1493,1494],{"class":397},"\"open\"",[377,1496,1497],{"class":383},", resolve));\n",[377,1499,1501,1503,1505,1507,1509,1512],{"class":379,"line":1500},78,[377,1502,1247],{"class":390},[377,1504,664],{"class":383},[377,1506,1205],{"class":397},[377,1508,884],{"class":383},[377,1510,1511],{"class":397},"\"Connected!\"",[377,1513,670],{"class":383},[377,1515,1517],{"class":379,"line":1516},79,[377,1518,727],{"class":383},[377,1520,1522],{"class":379,"line":1521},80,[377,1523,552],{"emptyLinePlaceholder":551},[377,1525,1527,1529,1532,1534,1536,1538],{"class":379,"line":1526},81,[377,1528,572],{"class":533},[377,1530,1531],{"class":390}," clear",[377,1533,578],{"class":533},[377,1535,626],{"class":383},[377,1537,629],{"class":533},[377,1539,478],{"class":383},[377,1541,1543,1545,1548,1550,1553,1556,1559],{"class":379,"line":1542},82,[377,1544,1014],{"class":383},[377,1546,1547],{"class":390},"splice",[377,1549,664],{"class":383},[377,1551,1552],{"class":484},"0",[377,1554,1555],{"class":383},", store.messages.",[377,1557,1558],{"class":484},"length",[377,1560,670],{"class":383},[377,1562,1564,1566,1568,1571,1573,1576],{"class":379,"line":1563},83,[377,1565,1247],{"class":390},[377,1567,664],{"class":383},[377,1569,1570],{"class":397},"\"system\"",[377,1572,884],{"class":383},[377,1574,1575],{"class":397},"\"previous messages cleared\"",[377,1577,670],{"class":383},[377,1579,1581],{"class":379,"line":1580},84,[377,1582,727],{"class":383},[377,1584,1586],{"class":379,"line":1585},85,[377,1587,552],{"emptyLinePlaceholder":551},[377,1589,1591,1593,1596,1598,1600,1602],{"class":379,"line":1590},86,[377,1592,572],{"class":533},[377,1594,1595],{"class":390}," send",[377,1597,578],{"class":533},[377,1599,626],{"class":383},[377,1601,629],{"class":533},[377,1603,478],{"class":383},[377,1605,1607,1609,1611,1613,1616],{"class":379,"line":1606},87,[377,1608,992],{"class":383},[377,1610,995],{"class":390},[377,1612,664],{"class":383},[377,1614,1615],{"class":397},"\"sending message...\"",[377,1617,670],{"class":383},[377,1619,1621,1623],{"class":379,"line":1620},88,[377,1622,1191],{"class":533},[377,1624,1625],{"class":383}," (store.message) {\n",[377,1627,1629,1631,1634],{"class":379,"line":1628},89,[377,1630,1218],{"class":383},[377,1632,1633],{"class":390},"send",[377,1635,1636],{"class":383},"(store.message);\n",[377,1638,1640],{"class":379,"line":1639},90,[377,1641,945],{"class":383},[377,1643,1645,1648,1650,1652],{"class":379,"line":1644},91,[377,1646,1647],{"class":383},"        store.message ",[377,1649,394],{"class":533},[377,1651,1380],{"class":397},[377,1653,494],{"class":383},[377,1655,1657],{"class":379,"line":1656},92,[377,1658,727],{"class":383},[377,1660,1662],{"class":379,"line":1661},93,[377,1663,552],{"emptyLinePlaceholder":551},[377,1665,1667,1669,1672,1674,1676,1678],{"class":379,"line":1666},94,[377,1668,572],{"class":533},[377,1670,1671],{"class":390}," ping",[377,1673,578],{"class":533},[377,1675,626],{"class":383},[377,1677,629],{"class":533},[377,1679,478],{"class":383},[377,1681,1683,1685,1687,1689,1691,1694],{"class":379,"line":1682},95,[377,1684,1247],{"class":390},[377,1686,664],{"class":383},[377,1688,1205],{"class":397},[377,1690,884],{"class":383},[377,1692,1693],{"class":397},"\"Sending ping\"",[377,1695,670],{"class":383},[377,1697,1699,1701,1703,1705,1708],{"class":379,"line":1698},96,[377,1700,1292],{"class":383},[377,1702,1633],{"class":390},[377,1704,664],{"class":383},[377,1706,1707],{"class":397},"\"ping\"",[377,1709,670],{"class":383},[377,1711,1713],{"class":379,"line":1712},97,[377,1714,727],{"class":383},[377,1716,1718],{"class":379,"line":1717},98,[377,1719,552],{"emptyLinePlaceholder":551},[377,1721,1723,1726],{"class":379,"line":1722},99,[377,1724,1725],{"class":390},"      createApp",[377,1727,584],{"class":383},[377,1729,1731],{"class":379,"line":1730},100,[377,1732,1733],{"class":383},"        store,\n",[377,1735,1737],{"class":379,"line":1736},101,[377,1738,1739],{"class":383},"        send,\n",[377,1741,1743],{"class":379,"line":1742},102,[377,1744,1745],{"class":383},"        ping,\n",[377,1747,1749],{"class":379,"line":1748},103,[377,1750,1751],{"class":383},"        clear,\n",[377,1753,1755],{"class":379,"line":1754},104,[377,1756,1757],{"class":383},"        connect,\n",[377,1759,1761,1764,1767],{"class":379,"line":1760},105,[377,1762,1763],{"class":383},"        rand: Math.",[377,1765,1766],{"class":390},"random",[377,1768,1073],{"class":383},[377,1770,1772,1775,1778],{"class":379,"line":1771},106,[377,1773,1774],{"class":383},"      }).",[377,1776,1777],{"class":390},"mount",[377,1779,1087],{"class":383},[377,1781,1783],{"class":379,"line":1782},107,[377,1784,552],{"emptyLinePlaceholder":551},[377,1786,1788,1791,1793],{"class":379,"line":1787},108,[377,1789,1790],{"class":533},"      await",[377,1792,1113],{"class":390},[377,1794,1087],{"class":383},[377,1796,1798,1800,1802],{"class":379,"line":1797},109,[377,1799,506],{"class":383},[377,1801,444],{"class":387},[377,1803,409],{"class":383},[377,1805,1807,1810,1812],{"class":379,"line":1806},110,[377,1808,1809],{"class":383},"  \u003C/",[377,1811,418],{"class":387},[377,1813,409],{"class":383},[377,1815,1817,1819,1822,1825,1827,1830],{"class":379,"line":1816},111,[377,1818,415],{"class":383},[377,1820,1821],{"class":387},"body",[377,1823,1824],{"class":390}," class",[377,1826,394],{"class":383},[377,1828,1829],{"class":397},"\"h-screen flex flex-col justify-between\"",[377,1831,409],{"class":383},[377,1833,1835,1837,1840,1843,1845,1848],{"class":379,"line":1834},112,[377,1836,426],{"class":383},[377,1838,1839],{"class":387},"main",[377,1841,1842],{"class":390}," v-scope",[377,1844,394],{"class":383},[377,1846,1847],{"class":397},"\"{}\"",[377,1849,409],{"class":383},[377,1851,1853],{"class":379,"line":1852},113,[377,1854,1856],{"class":1855},"sCsY4","      \u003C!-- Messages -->\n",[377,1858,1860,1863,1866,1869,1871,1874,1876,1878,1881],{"class":379,"line":1859},114,[377,1861,1862],{"class":383},"      \u003C",[377,1864,1865],{"class":387},"div",[377,1867,1868],{"class":390}," id",[377,1870,394],{"class":383},[377,1872,1873],{"class":397},"\"messages\"",[377,1875,1824],{"class":390},[377,1877,394],{"class":383},[377,1879,1880],{"class":397},"\"flex-grow flex flex-col justify-end px-4 py-8\"",[377,1882,409],{"class":383},[377,1884,1886,1889,1891,1893,1895,1898,1901,1903,1906],{"class":379,"line":1885},115,[377,1887,1888],{"class":383},"        \u003C",[377,1890,1865],{"class":387},[377,1892,1824],{"class":390},[377,1894,394],{"class":383},[377,1896,1897],{"class":397},"\"flex items-center mb-4\"",[377,1899,1900],{"class":390}," v-for",[377,1902,394],{"class":383},[377,1904,1905],{"class":397},"\"message in store.messages\"",[377,1907,409],{"class":383},[377,1909,1911,1914,1916,1918,1920,1923],{"class":379,"line":1910},116,[377,1912,1913],{"class":383},"          \u003C",[377,1915,1865],{"class":387},[377,1917,1824],{"class":390},[377,1919,394],{"class":383},[377,1921,1922],{"class":397},"\"flex flex-col\"",[377,1924,409],{"class":383},[377,1926,1928,1931,1934,1936,1938,1941,1944,1946],{"class":379,"line":1927},117,[377,1929,1930],{"class":383},"            \u003C",[377,1932,1933],{"class":387},"p",[377,1935,1824],{"class":390},[377,1937,394],{"class":383},[377,1939,1940],{"class":397},"\"text-gray-500 mb-1 text-xs ml-10\"",[377,1942,1943],{"class":383},">{{ message.user }}\u003C/",[377,1945,1933],{"class":387},[377,1947,409],{"class":383},[377,1949,1951,1953,1955,1957,1959,1962],{"class":379,"line":1950},118,[377,1952,1930],{"class":383},[377,1954,1865],{"class":387},[377,1956,1824],{"class":390},[377,1958,394],{"class":383},[377,1960,1961],{"class":397},"\"flex items-center\"",[377,1963,409],{"class":383},[377,1965,1967,1970],{"class":379,"line":1966},119,[377,1968,1969],{"class":383},"              \u003C",[377,1971,1972],{"class":387},"img\n",[377,1974,1976,1979,1981],{"class":379,"line":1975},120,[377,1977,1978],{"class":390},"                :src",[377,1980,394],{"class":383},[377,1982,1983],{"class":397},"\"'https://www.gravatar.com/avatar/' + encodeURIComponent(message.user + rand) + '?s=512&d=monsterid'\"\n",[377,1985,1987,1990,1992],{"class":379,"line":1986},121,[377,1988,1989],{"class":390},"                alt",[377,1991,394],{"class":383},[377,1993,1994],{"class":397},"\"Avatar\"\n",[377,1996,1998,2001,2003],{"class":379,"line":1997},122,[377,1999,2000],{"class":390},"                class",[377,2002,394],{"class":383},[377,2004,2005],{"class":397},"\"w-8 h-8 rounded-full\"\n",[377,2007,2009],{"class":379,"line":2008},123,[377,2010,2011],{"class":383},"              />\n",[377,2013,2015,2017,2019,2021,2023,2026],{"class":379,"line":2014},124,[377,2016,1969],{"class":383},[377,2018,1865],{"class":387},[377,2020,1824],{"class":390},[377,2022,394],{"class":383},[377,2024,2025],{"class":397},"\"ml-2 bg-gray-800 rounded-lg p-2\"",[377,2027,409],{"class":383},[377,2029,2031,2034],{"class":379,"line":2030},125,[377,2032,2033],{"class":383},"                \u003C",[377,2035,2036],{"class":387},"p\n",[377,2038,2040,2043,2045],{"class":379,"line":2039},126,[377,2041,2042],{"class":390},"                  v-if",[377,2044,394],{"class":383},[377,2046,2047],{"class":397},"\"message.formattedText\"\n",[377,2049,2051,2054,2056],{"class":379,"line":2050},127,[377,2052,2053],{"class":390},"                  class",[377,2055,394],{"class":383},[377,2057,2058],{"class":397},"\"overflow-x-scroll\"\n",[377,2060,2062,2065,2067],{"class":379,"line":2061},128,[377,2063,2064],{"class":390},"                  v-html",[377,2066,394],{"class":383},[377,2068,2047],{"class":397},[377,2070,2072,2075,2077],{"class":379,"line":2071},129,[377,2073,2074],{"class":383},"                >\u003C/",[377,2076,1933],{"class":387},[377,2078,409],{"class":383},[377,2080,2082,2084,2086,2089,2091,2093,2096,2099,2101],{"class":379,"line":2081},130,[377,2083,2033],{"class":383},[377,2085,1933],{"class":387},[377,2087,2088],{"class":390}," v-else",[377,2090,1824],{"class":390},[377,2092,394],{"class":383},[377,2094,2095],{"class":397},"\"text-white\"",[377,2097,2098],{"class":383},">{{ message.text }}\u003C/",[377,2100,1933],{"class":387},[377,2102,409],{"class":383},[377,2104,2106,2109,2111],{"class":379,"line":2105},131,[377,2107,2108],{"class":383},"              \u003C/",[377,2110,1865],{"class":387},[377,2112,409],{"class":383},[377,2114,2116,2119,2121],{"class":379,"line":2115},132,[377,2117,2118],{"class":383},"            \u003C/",[377,2120,1865],{"class":387},[377,2122,409],{"class":383},[377,2124,2126,2128,2130,2132,2134,2137,2140,2142],{"class":379,"line":2125},133,[377,2127,1930],{"class":383},[377,2129,1933],{"class":387},[377,2131,1824],{"class":390},[377,2133,394],{"class":383},[377,2135,2136],{"class":397},"\"text-gray-500 mt-1 text-xs ml-10\"",[377,2138,2139],{"class":383},">{{ message.date }}\u003C/",[377,2141,1933],{"class":387},[377,2143,409],{"class":383},[377,2145,2147,2150,2152],{"class":379,"line":2146},134,[377,2148,2149],{"class":383},"          \u003C/",[377,2151,1865],{"class":387},[377,2153,409],{"class":383},[377,2155,2157,2160,2162],{"class":379,"line":2156},135,[377,2158,2159],{"class":383},"        \u003C/",[377,2161,1865],{"class":387},[377,2163,409],{"class":383},[377,2165,2167,2170,2172],{"class":379,"line":2166},136,[377,2168,2169],{"class":383},"      \u003C/",[377,2171,1865],{"class":387},[377,2173,409],{"class":383},[377,2175,2177],{"class":379,"line":2176},137,[377,2178,552],{"emptyLinePlaceholder":551},[377,2180,2182],{"class":379,"line":2181},138,[377,2183,2184],{"class":1855},"      \u003C!-- Chatbox -->\n",[377,2186,2188,2190,2192,2194,2196,2199],{"class":379,"line":2187},139,[377,2189,1862],{"class":383},[377,2191,1865],{"class":387},[377,2193,1824],{"class":390},[377,2195,394],{"class":383},[377,2197,2198],{"class":397},"\"bg-gray-800 px-4 py-2 flex items-center justify-between fixed bottom-0 w-full\"",[377,2200,409],{"class":383},[377,2202,2204,2206,2208,2210,2212,2215],{"class":379,"line":2203},140,[377,2205,1888],{"class":383},[377,2207,1865],{"class":387},[377,2209,1824],{"class":390},[377,2211,394],{"class":383},[377,2213,2214],{"class":397},"\"w-full min-w-6\"",[377,2216,409],{"class":383},[377,2218,2220,2222],{"class":379,"line":2219},141,[377,2221,1913],{"class":383},[377,2223,2224],{"class":387},"input\n",[377,2226,2228,2231,2233],{"class":379,"line":2227},142,[377,2229,2230],{"class":390},"            type",[377,2232,394],{"class":383},[377,2234,2235],{"class":397},"\"text\"\n",[377,2237,2239,2242,2244],{"class":379,"line":2238},143,[377,2240,2241],{"class":390},"            placeholder",[377,2243,394],{"class":383},[377,2245,2246],{"class":397},"\"Type your message...\"\n",[377,2248,2250,2253,2255],{"class":379,"line":2249},144,[377,2251,2252],{"class":390},"            class",[377,2254,394],{"class":383},[377,2256,2257],{"class":397},"\"w-full rounded-l-lg px-4 py-2 bg-gray-700 text-white focus:outline-none focus:ring focus:border-blue-300\"\n",[377,2259,2261,2264,2266],{"class":379,"line":2260},145,[377,2262,2263],{"class":390},"            @keydown.enter",[377,2265,394],{"class":383},[377,2267,2268],{"class":397},"\"send\"\n",[377,2270,2272,2275,2277],{"class":379,"line":2271},146,[377,2273,2274],{"class":390},"            v-model",[377,2276,394],{"class":383},[377,2278,2279],{"class":397},"\"store.message\"\n",[377,2281,2283],{"class":379,"line":2282},147,[377,2284,2285],{"class":383},"          />\n",[377,2287,2289,2291,2293],{"class":379,"line":2288},148,[377,2290,2159],{"class":383},[377,2292,1865],{"class":387},[377,2294,409],{"class":383},[377,2296,2298,2300,2302,2304,2306,2309],{"class":379,"line":2297},149,[377,2299,1888],{"class":383},[377,2301,1865],{"class":387},[377,2303,1824],{"class":390},[377,2305,394],{"class":383},[377,2307,2308],{"class":397},"\"flex\"",[377,2310,409],{"class":383},[377,2312,2314,2316,2319,2321,2323,2326,2329,2331,2334],{"class":379,"line":2313},150,[377,2315,1913],{"class":383},[377,2317,2318],{"class":387},"button",[377,2320,1824],{"class":390},[377,2322,394],{"class":383},[377,2324,2325],{"class":397},"\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4\"",[377,2327,2328],{"class":390}," @click",[377,2330,394],{"class":383},[377,2332,2333],{"class":397},"\"send\"",[377,2335,409],{"class":383},[377,2337,2339],{"class":379,"line":2338},151,[377,2340,2341],{"class":383},"            Send\n",[377,2343,2345,2347,2349],{"class":379,"line":2344},152,[377,2346,2149],{"class":383},[377,2348,2318],{"class":387},[377,2350,409],{"class":383},[377,2352,2354,2356,2358,2360,2362,2364,2366,2368,2370],{"class":379,"line":2353},153,[377,2355,1913],{"class":383},[377,2357,2318],{"class":387},[377,2359,1824],{"class":390},[377,2361,394],{"class":383},[377,2363,2325],{"class":397},[377,2365,2328],{"class":390},[377,2367,394],{"class":383},[377,2369,1707],{"class":397},[377,2371,409],{"class":383},[377,2373,2375],{"class":379,"line":2374},154,[377,2376,2377],{"class":383},"            Ping\n",[377,2379,2381,2383,2385],{"class":379,"line":2380},155,[377,2382,2149],{"class":383},[377,2384,2318],{"class":387},[377,2386,409],{"class":383},[377,2388,2390,2392,2394,2396,2398,2400,2402,2404,2407],{"class":379,"line":2389},156,[377,2391,1913],{"class":383},[377,2393,2318],{"class":387},[377,2395,1824],{"class":390},[377,2397,394],{"class":383},[377,2399,2325],{"class":397},[377,2401,2328],{"class":390},[377,2403,394],{"class":383},[377,2405,2406],{"class":397},"\"connect\"",[377,2408,409],{"class":383},[377,2410,2412],{"class":379,"line":2411},157,[377,2413,2414],{"class":383},"            Reconnect\n",[377,2416,2418,2420,2422],{"class":379,"line":2417},158,[377,2419,2149],{"class":383},[377,2421,2318],{"class":387},[377,2423,409],{"class":383},[377,2425,2427,2429],{"class":379,"line":2426},159,[377,2428,1913],{"class":383},[377,2430,2431],{"class":387},"button\n",[377,2433,2435,2437,2439],{"class":379,"line":2434},160,[377,2436,2252],{"class":390},[377,2438,394],{"class":383},[377,2440,2441],{"class":397},"\"bg-blue-500 hover:bg-blue-600 text-white py-2 px-4 rounded-r-lg\"\n",[377,2443,2445,2448,2450],{"class":379,"line":2444},161,[377,2446,2447],{"class":390},"            @click",[377,2449,394],{"class":383},[377,2451,2452],{"class":397},"\"clear\"\n",[377,2454,2456],{"class":379,"line":2455},162,[377,2457,2458],{"class":383},"          >\n",[377,2460,2462],{"class":379,"line":2461},163,[377,2463,2464],{"class":383},"            Clear\n",[377,2466,2468,2470,2472],{"class":379,"line":2467},164,[377,2469,2149],{"class":383},[377,2471,2318],{"class":387},[377,2473,409],{"class":383},[377,2475,2477,2479,2481],{"class":379,"line":2476},165,[377,2478,2159],{"class":383},[377,2480,1865],{"class":387},[377,2482,409],{"class":383},[377,2484,2486,2488,2490],{"class":379,"line":2485},166,[377,2487,2169],{"class":383},[377,2489,1865],{"class":387},[377,2491,409],{"class":383},[377,2493,2495,2497,2499],{"class":379,"line":2494},167,[377,2496,506],{"class":383},[377,2498,1839],{"class":387},[377,2500,409],{"class":383},[377,2502,2504,2506,2508],{"class":379,"line":2503},168,[377,2505,1809],{"class":383},[377,2507,1821],{"class":387},[377,2509,409],{"class":383},[377,2511,2513,2516,2518],{"class":379,"line":2512},169,[377,2514,2515],{"class":383},"\u003C/",[377,2517,372],{"class":387},[377,2519,409],{"class":383},[377,2521,2523],{"class":379,"line":2522},170,[377,2524,2525],{"class":383},"`\n",[367,2527,2532],{"className":2528,"code":2529,"filename":2530,"language":2531,"meta":5,"style":5},"language-ts shiki shiki-themes github-light github-dark github-dark","import { defineConfig } from \"nitro\";\n\nexport default defineConfig({\n  serverDir: \"./\",\n  renderer: { static: true },\n  features: { websocket: true },\n});\n","nitro.config.ts","ts",[374,2533,2534,2549,2553,2566,2576,2586,2595],{"__ignoreMap":5},[377,2535,2536,2539,2542,2544,2547],{"class":379,"line":380},[377,2537,2538],{"class":533},"import",[377,2540,2541],{"class":383}," { defineConfig } ",[377,2543,540],{"class":533},[377,2545,2546],{"class":397}," \"nitro\"",[377,2548,494],{"class":383},[377,2550,2551],{"class":379,"line":412},[377,2552,552],{"emptyLinePlaceholder":551},[377,2554,2555,2558,2561,2564],{"class":379,"line":423},[377,2556,2557],{"class":533},"export",[377,2559,2560],{"class":533}," default",[377,2562,2563],{"class":390}," defineConfig",[377,2565,584],{"class":383},[377,2567,2568,2571,2574],{"class":379,"line":439},[377,2569,2570],{"class":383},"  serverDir: ",[377,2572,2573],{"class":397},"\"./\"",[377,2575,596],{"class":383},[377,2577,2578,2581,2583],{"class":379,"line":462},[377,2579,2580],{"class":383},"  renderer: { static: ",[377,2582,364],{"class":484},[377,2584,2585],{"class":383}," },\n",[377,2587,2588,2591,2593],{"class":379,"line":472},[377,2589,2590],{"class":383},"  features: { websocket: ",[377,2592,364],{"class":484},[377,2594,2585],{"class":383},[377,2596,2597],{"class":379,"line":481},[377,2598,2599],{"class":383},"});\n",[367,2601,2606],{"className":2602,"code":2603,"filename":2604,"language":2605,"meta":5,"style":5},"language-json shiki shiki-themes github-light github-dark github-dark","{\n  \"type\": \"module\",\n  \"scripts\": {\n    \"dev\": \"nitro dev\",\n    \"build\": \"nitro build\"\n  },\n  \"devDependencies\": {\n    \"nitro\": \"latest\"\n  }\n}\n","package.json","json",[374,2607,2608,2613,2624,2632,2644,2654,2659,2666,2676,2681],{"__ignoreMap":5},[377,2609,2610],{"class":379,"line":380},[377,2611,2612],{"class":383},"{\n",[377,2614,2615,2618,2620,2622],{"class":379,"line":412},[377,2616,2617],{"class":484},"  \"type\"",[377,2619,488],{"class":383},[377,2621,525],{"class":397},[377,2623,596],{"class":383},[377,2625,2626,2629],{"class":379,"line":423},[377,2627,2628],{"class":484},"  \"scripts\"",[377,2630,2631],{"class":383},": {\n",[377,2633,2634,2637,2639,2642],{"class":379,"line":439},[377,2635,2636],{"class":484},"    \"dev\"",[377,2638,488],{"class":383},[377,2640,2641],{"class":397},"\"nitro dev\"",[377,2643,596],{"class":383},[377,2645,2646,2649,2651],{"class":379,"line":462},[377,2647,2648],{"class":484},"    \"build\"",[377,2650,488],{"class":383},[377,2652,2653],{"class":397},"\"nitro build\"\n",[377,2655,2656],{"class":379,"line":472},[377,2657,2658],{"class":383},"  },\n",[377,2660,2661,2664],{"class":379,"line":481},[377,2662,2663],{"class":484},"  \"devDependencies\"",[377,2665,2631],{"class":383},[377,2667,2668,2671,2673],{"class":379,"line":497},[377,2669,2670],{"class":484},"    \"nitro\"",[377,2672,488],{"class":383},[377,2674,2675],{"class":397},"\"latest\"\n",[377,2677,2678],{"class":379,"line":503},[377,2679,2680],{"class":383},"  }\n",[377,2682,2683],{"class":379,"line":513},[377,2684,2685],{"class":383},"}\n",[367,2687,2690],{"className":2602,"code":2688,"filename":2689,"language":2605,"meta":5,"style":5},"{\n  \"extends\": \"nitro/tsconfig\"\n}\n","tsconfig.json",[374,2691,2692,2696,2706],{"__ignoreMap":5},[377,2693,2694],{"class":379,"line":380},[377,2695,2612],{"class":383},[377,2697,2698,2701,2703],{"class":379,"line":412},[377,2699,2700],{"class":484},"  \"extends\"",[377,2702,488],{"class":383},[377,2704,2705],{"class":397},"\"nitro/tsconfig\"\n",[377,2707,2708],{"class":379,"line":423},[377,2709,2685],{"class":383},[367,2711,2714],{"className":2528,"code":2712,"filename":2713,"language":2531,"meta":5,"style":5},"import { defineConfig } from \"vite\";\nimport { nitro } from \"nitro/vite\";\n\nexport default defineConfig({ plugins: [nitro()] });\n","vite.config.ts",[374,2715,2716,2729,2743,2747],{"__ignoreMap":5},[377,2717,2718,2720,2722,2724,2727],{"class":379,"line":380},[377,2719,2538],{"class":533},[377,2721,2541],{"class":383},[377,2723,540],{"class":533},[377,2725,2726],{"class":397}," \"vite\"",[377,2728,494],{"class":383},[377,2730,2731,2733,2736,2738,2741],{"class":379,"line":412},[377,2732,2538],{"class":533},[377,2734,2735],{"class":383}," { nitro } ",[377,2737,540],{"class":533},[377,2739,2740],{"class":397}," \"nitro/vite\"",[377,2742,494],{"class":383},[377,2744,2745],{"class":379,"line":423},[377,2746,552],{"emptyLinePlaceholder":551},[377,2748,2749,2751,2753,2755,2758,2761],{"class":379,"line":439},[377,2750,2557],{"class":533},[377,2752,2560],{"class":533},[377,2754,2563],{"class":390},[377,2756,2757],{"class":383},"({ plugins: [",[377,2759,2760],{"class":390},"nitro",[377,2762,2763],{"class":383},"()] });\n",[367,2765,2767],{"className":2528,"code":2766,"filename":365,"language":2531,"meta":5,"style":5},"import { defineWebSocketHandler } from \"nitro/h3\";\n\nexport default defineWebSocketHandler({\n  open(peer) {\n    peer.send({ user: \"server\", message: `Welcome ${peer}!` });\n    peer.publish(\"chat\", { user: \"server\", message: `${peer} joined!` });\n    peer.subscribe(\"chat\");\n  },\n  message(peer, message) {\n    if (message.text().includes(\"ping\")) {\n      peer.send({ user: \"server\", message: \"pong\" });\n    } else {\n      const msg = {\n        user: peer.toString(),\n        message: message.toString(),\n      };\n      peer.send(msg); // echo\n      peer.publish(\"chat\", msg);\n    }\n  },\n  close(peer) {\n    peer.publish(\"chat\", { user: \"server\", message: `${peer} left!` });\n  },\n});\n",[374,2768,2769,2783,2787,2798,2811,2838,2867,2880,2884,2899,2920,2938,2948,2959,2969,2978,2982,2994,3007,3012,3016,3027,3052,3056],{"__ignoreMap":5},[377,2770,2771,2773,2776,2778,2781],{"class":379,"line":380},[377,2772,2538],{"class":533},[377,2774,2775],{"class":383}," { defineWebSocketHandler } ",[377,2777,540],{"class":533},[377,2779,2780],{"class":397}," \"nitro/h3\"",[377,2782,494],{"class":383},[377,2784,2785],{"class":379,"line":412},[377,2786,552],{"emptyLinePlaceholder":551},[377,2788,2789,2791,2793,2796],{"class":379,"line":423},[377,2790,2557],{"class":533},[377,2792,2560],{"class":533},[377,2794,2795],{"class":390}," defineWebSocketHandler",[377,2797,584],{"class":383},[377,2799,2800,2803,2805,2808],{"class":379,"line":439},[377,2801,2802],{"class":390},"  open",[377,2804,664],{"class":383},[377,2806,2807],{"class":970},"peer",[377,2809,2810],{"class":383},") {\n",[377,2812,2813,2816,2818,2821,2824,2827,2830,2832,2835],{"class":379,"line":462},[377,2814,2815],{"class":383},"    peer.",[377,2817,1633],{"class":390},[377,2819,2820],{"class":383},"({ user: ",[377,2822,2823],{"class":397},"\"server\"",[377,2825,2826],{"class":383},", message: ",[377,2828,2829],{"class":397},"`Welcome ${",[377,2831,2807],{"class":383},[377,2833,2834],{"class":397},"}!`",[377,2836,2837],{"class":383}," });\n",[377,2839,2840,2842,2845,2847,2850,2853,2855,2857,2860,2862,2865],{"class":379,"line":472},[377,2841,2815],{"class":383},[377,2843,2844],{"class":390},"publish",[377,2846,664],{"class":383},[377,2848,2849],{"class":397},"\"chat\"",[377,2851,2852],{"class":383},", { user: ",[377,2854,2823],{"class":397},[377,2856,2826],{"class":383},[377,2858,2859],{"class":397},"`${",[377,2861,2807],{"class":383},[377,2863,2864],{"class":397},"} joined!`",[377,2866,2837],{"class":383},[377,2868,2869,2871,2874,2876,2878],{"class":379,"line":481},[377,2870,2815],{"class":383},[377,2872,2873],{"class":390},"subscribe",[377,2875,664],{"class":383},[377,2877,2849],{"class":397},[377,2879,670],{"class":383},[377,2881,2882],{"class":379,"line":497},[377,2883,2658],{"class":383},[377,2885,2886,2889,2891,2893,2895,2897],{"class":379,"line":503},[377,2887,2888],{"class":390},"  message",[377,2890,664],{"class":383},[377,2892,2807],{"class":970},[377,2894,884],{"class":383},[377,2896,1375],{"class":970},[377,2898,2810],{"class":383},[377,2900,2901,2904,2907,2909,2911,2914,2916,2918],{"class":379,"line":513},[377,2902,2903],{"class":533},"    if",[377,2905,2906],{"class":383}," (message.",[377,2908,1354],{"class":390},[377,2910,1067],{"class":383},[377,2912,2913],{"class":390},"includes",[377,2915,664],{"class":383},[377,2917,1707],{"class":397},[377,2919,803],{"class":383},[377,2921,2922,2925,2927,2929,2931,2933,2936],{"class":379,"line":530},[377,2923,2924],{"class":383},"      peer.",[377,2926,1633],{"class":390},[377,2928,2820],{"class":383},[377,2930,2823],{"class":397},[377,2932,2826],{"class":383},[377,2934,2935],{"class":397},"\"pong\"",[377,2937,2837],{"class":383},[377,2939,2940,2943,2946],{"class":379,"line":548},[377,2941,2942],{"class":383},"    } ",[377,2944,2945],{"class":533},"else",[377,2947,478],{"class":383},[377,2949,2950,2952,2955,2957],{"class":379,"line":555},[377,2951,572],{"class":533},[377,2953,2954],{"class":484}," msg",[377,2956,578],{"class":533},[377,2958,478],{"class":383},[377,2960,2961,2964,2967],{"class":379,"line":564},[377,2962,2963],{"class":383},"        user: peer.",[377,2965,2966],{"class":390},"toString",[377,2968,1073],{"class":383},[377,2970,2971,2974,2976],{"class":379,"line":569},[377,2972,2973],{"class":383},"        message: message.",[377,2975,2966],{"class":390},[377,2977,1073],{"class":383},[377,2979,2980],{"class":379,"line":587},[377,2981,727],{"class":383},[377,2983,2984,2986,2988,2991],{"class":379,"line":599},[377,2985,2924],{"class":383},[377,2987,1633],{"class":390},[377,2989,2990],{"class":383},"(msg); ",[377,2992,2993],{"class":1855},"// echo\n",[377,2995,2996,2998,3000,3002,3004],{"class":379,"line":605},[377,2997,2924],{"class":383},[377,2999,2844],{"class":390},[377,3001,664],{"class":383},[377,3003,2849],{"class":397},[377,3005,3006],{"class":383},", msg);\n",[377,3008,3009],{"class":379,"line":611},[377,3010,3011],{"class":383},"    }\n",[377,3013,3014],{"class":379,"line":616},[377,3015,2658],{"class":383},[377,3017,3018,3021,3023,3025],{"class":379,"line":634},[377,3019,3020],{"class":390},"  close",[377,3022,664],{"class":383},[377,3024,2807],{"class":970},[377,3026,2810],{"class":383},[377,3028,3029,3031,3033,3035,3037,3039,3041,3043,3045,3047,3050],{"class":379,"line":647},[377,3030,2815],{"class":383},[377,3032,2844],{"class":390},[377,3034,664],{"class":383},[377,3036,2849],{"class":397},[377,3038,2852],{"class":383},[377,3040,2823],{"class":397},[377,3042,2826],{"class":383},[377,3044,2859],{"class":397},[377,3046,2807],{"class":383},[377,3048,3049],{"class":397},"} left!`",[377,3051,2837],{"class":383},[377,3053,3054],{"class":379,"line":673},[377,3055,2658],{"class":383},[377,3057,3058],{"class":379,"line":684},[377,3059,2599],{"class":383},[1933,3061,3062],{},"此示例使用 WebSockets 实现了一个简单的聊天室。客户端连接后，可以发送消息，并实时接收其他用户的消息。服务器使用发布/订阅通道向所有已连接的客户端广播消息。",[3064,3065,3067],"h2",{"id":3066},"websocket-处理器","WebSocket 处理器",[1933,3069,3070,3071,3074],{},"使用 ",[374,3072,3073],{},"defineWebSocketHandler"," 创建一个 WebSocket 路由。",[367,3076,3078],{"className":2528,"code":3077,"filename":365,"language":2531,"meta":5,"style":5},"import { defineWebSocketHandler } from \"nitro/h3\";\n\nexport default defineWebSocketHandler({\n  open(peer) {\n    peer.send({ user: \"server\", message: `Welcome ${peer}!` });\n    peer.publish(\"chat\", { user: \"server\", message: `${peer} joined!` });\n    peer.subscribe(\"chat\");\n  },\n  message(peer, message) {\n    if (message.text().includes(\"ping\")) {\n      peer.send({ user: \"server\", message: \"pong\" });\n    } else {\n      const msg = {\n        user: peer.toString(),\n        message: message.toString(),\n      };\n      peer.send(msg); // 回显\n      peer.publish(\"chat\", msg);\n    }\n  },\n  close(peer) {\n    peer.publish(\"chat\", { user: \"server\", message: `${peer} left!` });\n  },\n});\n",[374,3079,3080,3092,3096,3106,3116,3136,3160,3172,3176,3190,3208,3224,3232,3242,3250,3258,3262,3273,3285,3289,3293,3303,3327,3331],{"__ignoreMap":5},[377,3081,3082,3084,3086,3088,3090],{"class":379,"line":380},[377,3083,2538],{"class":533},[377,3085,2775],{"class":383},[377,3087,540],{"class":533},[377,3089,2780],{"class":397},[377,3091,494],{"class":383},[377,3093,3094],{"class":379,"line":412},[377,3095,552],{"emptyLinePlaceholder":551},[377,3097,3098,3100,3102,3104],{"class":379,"line":423},[377,3099,2557],{"class":533},[377,3101,2560],{"class":533},[377,3103,2795],{"class":390},[377,3105,584],{"class":383},[377,3107,3108,3110,3112,3114],{"class":379,"line":439},[377,3109,2802],{"class":390},[377,3111,664],{"class":383},[377,3113,2807],{"class":970},[377,3115,2810],{"class":383},[377,3117,3118,3120,3122,3124,3126,3128,3130,3132,3134],{"class":379,"line":462},[377,3119,2815],{"class":383},[377,3121,1633],{"class":390},[377,3123,2820],{"class":383},[377,3125,2823],{"class":397},[377,3127,2826],{"class":383},[377,3129,2829],{"class":397},[377,3131,2807],{"class":383},[377,3133,2834],{"class":397},[377,3135,2837],{"class":383},[377,3137,3138,3140,3142,3144,3146,3148,3150,3152,3154,3156,3158],{"class":379,"line":472},[377,3139,2815],{"class":383},[377,3141,2844],{"class":390},[377,3143,664],{"class":383},[377,3145,2849],{"class":397},[377,3147,2852],{"class":383},[377,3149,2823],{"class":397},[377,3151,2826],{"class":383},[377,3153,2859],{"class":397},[377,3155,2807],{"class":383},[377,3157,2864],{"class":397},[377,3159,2837],{"class":383},[377,3161,3162,3164,3166,3168,3170],{"class":379,"line":481},[377,3163,2815],{"class":383},[377,3165,2873],{"class":390},[377,3167,664],{"class":383},[377,3169,2849],{"class":397},[377,3171,670],{"class":383},[377,3173,3174],{"class":379,"line":497},[377,3175,2658],{"class":383},[377,3177,3178,3180,3182,3184,3186,3188],{"class":379,"line":503},[377,3179,2888],{"class":390},[377,3181,664],{"class":383},[377,3183,2807],{"class":970},[377,3185,884],{"class":383},[377,3187,1375],{"class":970},[377,3189,2810],{"class":383},[377,3191,3192,3194,3196,3198,3200,3202,3204,3206],{"class":379,"line":513},[377,3193,2903],{"class":533},[377,3195,2906],{"class":383},[377,3197,1354],{"class":390},[377,3199,1067],{"class":383},[377,3201,2913],{"class":390},[377,3203,664],{"class":383},[377,3205,1707],{"class":397},[377,3207,803],{"class":383},[377,3209,3210,3212,3214,3216,3218,3220,3222],{"class":379,"line":530},[377,3211,2924],{"class":383},[377,3213,1633],{"class":390},[377,3215,2820],{"class":383},[377,3217,2823],{"class":397},[377,3219,2826],{"class":383},[377,3221,2935],{"class":397},[377,3223,2837],{"class":383},[377,3225,3226,3228,3230],{"class":379,"line":548},[377,3227,2942],{"class":383},[377,3229,2945],{"class":533},[377,3231,478],{"class":383},[377,3233,3234,3236,3238,3240],{"class":379,"line":555},[377,3235,572],{"class":533},[377,3237,2954],{"class":484},[377,3239,578],{"class":533},[377,3241,478],{"class":383},[377,3243,3244,3246,3248],{"class":379,"line":564},[377,3245,2963],{"class":383},[377,3247,2966],{"class":390},[377,3249,1073],{"class":383},[377,3251,3252,3254,3256],{"class":379,"line":569},[377,3253,2973],{"class":383},[377,3255,2966],{"class":390},[377,3257,1073],{"class":383},[377,3259,3260],{"class":379,"line":587},[377,3261,727],{"class":383},[377,3263,3264,3266,3268,3270],{"class":379,"line":599},[377,3265,2924],{"class":383},[377,3267,1633],{"class":390},[377,3269,2990],{"class":383},[377,3271,3272],{"class":1855},"// 回显\n",[377,3274,3275,3277,3279,3281,3283],{"class":379,"line":605},[377,3276,2924],{"class":383},[377,3278,2844],{"class":390},[377,3280,664],{"class":383},[377,3282,2849],{"class":397},[377,3284,3006],{"class":383},[377,3286,3287],{"class":379,"line":611},[377,3288,3011],{"class":383},[377,3290,3291],{"class":379,"line":616},[377,3292,2658],{"class":383},[377,3294,3295,3297,3299,3301],{"class":379,"line":634},[377,3296,3020],{"class":390},[377,3298,664],{"class":383},[377,3300,2807],{"class":970},[377,3302,2810],{"class":383},[377,3304,3305,3307,3309,3311,3313,3315,3317,3319,3321,3323,3325],{"class":379,"line":647},[377,3306,2815],{"class":383},[377,3308,2844],{"class":390},[377,3310,664],{"class":383},[377,3312,2849],{"class":397},[377,3314,2852],{"class":383},[377,3316,2823],{"class":397},[377,3318,2826],{"class":383},[377,3320,2859],{"class":397},[377,3322,2807],{"class":383},[377,3324,3049],{"class":397},[377,3326,2837],{"class":383},[377,3328,3329],{"class":379,"line":673},[377,3330,2658],{"class":383},[377,3332,3333],{"class":379,"line":684},[377,3334,2599],{"class":383},[1933,3336,3337,3340],{},[374,3338,3339],{},"defineWebSocketHandler()"," 暴露了不同的钩子，用于集成 WebSocket 生命周期的不同部分。",[3064,3342,3343],{"id":3343},"了解更多",[3345,3346,3347,3354],"ul",{},[3348,3349,3350],"li",{},[3351,3352,3353],"a",{"href":24},"路由",[3348,3355,3356],{},[3351,3357,3361],{"href":3358,"rel":3359},"https://crossws.h3.dev/guide/hooks",[3360],"nofollow","crossws 文档",[467,3363,3364],{},"html pre.shiki code .slsVL, html code.shiki .slsVL{--shiki-light:#24292E;--shiki-default:#E1E4E8;--shiki-dark:#E1E4E8}html pre.shiki code .sByVh, html code.shiki .sByVh{--shiki-light:#22863A;--shiki-default:#85E89D;--shiki-dark:#85E89D}html pre.shiki code .shcOC, html code.shiki .shcOC{--shiki-light:#6F42C1;--shiki-default:#B392F0;--shiki-dark:#B392F0}html pre.shiki code .sfrk1, html code.shiki .sfrk1{--shiki-light:#032F62;--shiki-default:#9ECBFF;--shiki-dark:#9ECBFF}html pre.shiki code .suiK_, html code.shiki .suiK_{--shiki-light:#005CC5;--shiki-default:#79B8FF;--shiki-dark:#79B8FF}html pre.shiki code .so5gQ, html code.shiki .so5gQ{--shiki-light:#D73A49;--shiki-default:#F97583;--shiki-dark:#F97583}html pre.shiki code .sQHwn, html code.shiki .sQHwn{--shiki-light:#E36209;--shiki-default:#FFAB70;--shiki-dark:#FFAB70}html pre.shiki code .sCsY4, html code.shiki .sCsY4{--shiki-light:#6A737D;--shiki-default:#6A737D;--shiki-dark:#6A737D}html .light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html.light .shiki span {color: var(--shiki-light);background: var(--shiki-light-bg);font-style: var(--shiki-light-font-style);font-weight: var(--shiki-light-font-weight);text-decoration: var(--shiki-light-text-decoration);}html .default .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .shiki span {color: var(--shiki-default);background: var(--shiki-default-bg);font-style: var(--shiki-default-font-style);font-weight: var(--shiki-default-font-weight);text-decoration: var(--shiki-default-text-decoration);}html .dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}html.dark .shiki span {color: var(--shiki-dark);background: var(--shiki-dark-bg);font-style: var(--shiki-dark-font-style);font-weight: var(--shiki-dark-font-weight);text-decoration: var(--shiki-dark-text-decoration);}",{"title":5,"searchDepth":412,"depth":412,"links":3366},[3367,3368],{"id":3066,"depth":412,"text":3067},{"id":3343,"depth":412,"text":3343},"md","i-lucide-radio",{"automd":551},{},{"title":353,"description":354},"examples/websocket/README","34prMY5plqthOvjd6cbdm5ZEdjZSKACaoNYF9jw4YfA",[3377,3380],{"title":307,"path":3378,"stem":3379,"description":308,"children":-1},"/examples/virtual-routes","examples/virtual-routes/README",null,1771507942755]