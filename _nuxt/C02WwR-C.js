import{_ as Z,a as J,b as K}from"./PFx18tzK.js";import{T as z,W as X,aY as ee,aZ as te,D as ne,ah as ie,ai as se,O as ae,a_ as le,a as E,aD as H,k as D,v as U,a$ as oe,d as y,o as g,l as c,w as f,i as h,x as r,F as P,A as re,c as q,e as x,aT as ce,f as t,r as m,B as R,h as j,L as G,aj as ue,ak as de,ag as N,z as Q,al as ge,H as pe,P as he,n as me,u as fe,p as V,t as ve,b0 as ke,_ as be,q as M,y as F,s as ye,b1 as xe,b2 as $e,C as _e}from"#entry";import{_ as Ce}from"./Cit9GmMK.js";import{_ as Le}from"./J0bbrFa8.js";import{u as Ie}from"./CjYCSucT.js";import"./BN_7HF1G.js";function we(){const i=z(),s=z([]),e=z([]);function b(n){n.forEach(u=>{const L=u.target.id;L&&(u.isIntersecting?s.value=[...s.value,L]:s.value=s.value.filter(a=>a!==L))})}function p(n){n.forEach(u=>{i.value&&i.value.observe(u)})}return X(s,(n,u)=>{n.length===0?e.value=u:e.value=n}),ee(()=>i.value=new IntersectionObserver(b)),te(()=>i.value?.disconnect()),{visibleHeadings:s,activeHeadings:e,updateHeadings:p}}const Te={slots:{root:"sticky top-(--ui-header-height) z-10 bg-default/75 lg:bg-[initial] backdrop-blur -mx-4 px-4 sm:px-6 sm:-mx-6 overflow-y-auto max-h-[calc(100vh-var(--ui-header-height))]",container:"pt-4 sm:pt-6 pb-2.5 sm:pb-4.5 lg:py-8 border-b border-dashed border-default lg:border-0 flex flex-col",top:"",bottom:"hidden lg:flex lg:flex-col gap-6",trigger:"group text-sm font-semibold flex-1 flex items-center gap-1.5 py-1.5 -mt-1.5 focus-visible:outline-primary",title:"truncate",trailing:"ms-auto inline-flex gap-1.5 items-center",trailingIcon:"size-5 transform transition-transform duration-200 shrink-0 group-data-[state=open]:rotate-180 lg:hidden",content:"data-[state=open]:animate-[collapsible-down_200ms_ease-out] data-[state=closed]:animate-[collapsible-up_200ms_ease-out] overflow-hidden focus:outline-none",list:"min-w-0",listWithChildren:"ms-3",item:"min-w-0",itemWithChildren:"",link:"group relative text-sm flex items-center focus-visible:outline-primary py-1",linkText:"truncate",indicator:"absolute ms-2.5 transition-[translate,height] duration-200 h-(--indicator-size) translate-y-(--indicator-position) w-px rounded-full"},variants:{color:{primary:"",secondary:"",info:"",success:"",warning:"",error:"",important:"",neutral:""},highlightColor:{primary:{indicator:"bg-primary"},secondary:{indicator:"bg-secondary"},info:{indicator:"bg-info"},success:{indicator:"bg-success"},warning:{indicator:"bg-warning"},error:{indicator:"bg-error"},important:{indicator:"bg-important"},neutral:{indicator:"bg-inverted"}},active:{false:{link:["text-muted hover:text-default","transition-colors"]}},highlight:{true:{list:"ms-2.5 ps-4 border-s border-default",item:"-ms-px"}},body:{true:{bottom:"mt-6"}}},compoundVariants:[{color:"primary",active:!0,class:{link:"text-primary",linkLeadingIcon:"text-primary"}},{color:"secondary",active:!0,class:{link:"text-secondary",linkLeadingIcon:"text-secondary"}},{color:"info",active:!0,class:{link:"text-info",linkLeadingIcon:"text-info"}},{color:"success",active:!0,class:{link:"text-success",linkLeadingIcon:"text-success"}},{color:"warning",active:!0,class:{link:"text-warning",linkLeadingIcon:"text-warning"}},{color:"error",active:!0,class:{link:"text-error",linkLeadingIcon:"text-error"}},{color:"important",active:!0,class:{link:"text-important",linkLeadingIcon:"text-important"}},{color:"neutral",active:!0,class:{link:"text-highlighted",linkLeadingIcon:"text-highlighted"}}],defaultVariants:{color:"primary",highlightColor:"primary"}},qe=["href","onClick"],Se=Object.assign({inheritAttrs:!1},{__name:"UContentToc",props:{as:{type:null,required:!1,default:"nav"},trailingIcon:{type:[String,Object],required:!1},title:{type:String,required:!1},color:{type:null,required:!1},highlight:{type:Boolean,required:!1},highlightColor:{type:null,required:!1},links:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1},defaultOpen:{type:Boolean,required:!1},open:{type:Boolean,required:!1}},emits:["update:open","move"],setup(i,{emit:s}){const e=i,b=s,p=ne(),n=ie(se(e,"as","open","defaultOpen"),b),{t:u}=ae(),L=le(),a=E(),{activeHeadings:$,updateHeadings:I}=we(),[T,_]=H({props:{links:Array,level:Number}}),[v,w]=H(),l=D(()=>U({extend:U(Te),...a.ui?.contentToc||{}})({color:e.color,highlight:e.highlight,highlightColor:e.highlightColor||e.color}));function W(o){const C=encodeURIComponent(o);L.push(`#${C}`),b("move",o)}function A(o){return o.flatMap(C=>[C,...C.children?A(C.children):[]])}const B=D(()=>{if(!$.value?.length)return;const C=A(e.links||[]).findIndex(d=>$.value.includes(d.id)),k=28,S=0;return{"--indicator-size":`${k*$.value.length+S*($.value.length-1)}px`,"--indicator-position":C>=0?`${C*(k+S)}px`:"0px"}}),O=oe();return O.hooks.hook("page:loading:end",()=>{const o=Array.from(document.querySelectorAll("h2, h3"));I(o)}),O.hooks.hook("page:transition:finish",()=>{const o=Array.from(document.querySelectorAll("h2, h3"));I(o)}),(o,C)=>(g(),y(P,null,[c(t(T),null,{default:f(({links:k,level:S})=>[h("ul",{class:r(S>0?l.value.listWithChildren({class:e.ui?.listWithChildren}):l.value.list({class:e.ui?.list}))},[(g(!0),y(P,null,re(k,(d,Y)=>(g(),y("li",{key:Y,class:r(d.children&&d.children.length>0?l.value.itemWithChildren({class:[e.ui?.itemWithChildren,d.ui?.itemWithChildren]}):l.value.item({class:[e.ui?.item,d.ui?.item]}))},[h("a",{href:`#${d.id}`,class:r(l.value.link({class:[e.ui?.link,d.ui?.link,d.class],active:t($).includes(d.id)})),onClick:ce(Ue=>W(d.id),["prevent"])},[m(o.$slots,"link",{link:d},()=>[h("span",{class:r(l.value.linkText({class:[e.ui?.linkText,d.ui?.linkText]}))},R(d.text),3)])],10,qe),d.children?.length?(g(),q(t(_),{key:0,links:d.children,level:S+1},null,8,["links","level"])):x("",!0)],2))),128))],2)]),_:3}),c(t(v),null,{default:f(({open:k})=>[m(o.$slots,"leading",{open:k}),h("span",{class:r(l.value.title({class:e.ui?.title}))},[m(o.$slots,"default",{open:k},()=>[j(R(i.title||t(u)("contentToc.title")),1)])],2),h("span",{class:r(l.value.trailing({class:e.ui?.trailing}))},[m(o.$slots,"trailing",{open:k},()=>[c(G,{name:i.trailingIcon||t(a).ui.icons.chevronDown,class:r(l.value.trailingIcon({class:e.ui?.trailingIcon}))},null,8,["name","class"])])],2)]),_:3}),c(t(ge),Q({...t(n),...o.$attrs},{"default-open":i.defaultOpen,class:l.value.root({class:[e.ui?.root,e.class]})}),{default:f(({open:k})=>[h("div",{class:r(l.value.container({class:e.ui?.container}))},[p.top?(g(),y("div",{key:0,class:r(l.value.top({class:e.ui?.top}))},[m(o.$slots,"top",{links:i.links})],2)):x("",!0),i.links?.length?(g(),y(P,{key:1},[c(t(ue),{class:r(l.value.trigger({class:"lg:hidden"}))},{default:f(()=>[c(t(w),{open:k},null,8,["open"])]),_:2},1032,["class"]),c(t(de),{class:r(l.value.content({class:[e.ui?.content,"lg:hidden"]}))},{default:f(()=>[i.highlight?(g(),y("div",{key:0,class:r(l.value.indicator({class:e.ui?.indicator})),style:N(B.value)},null,6)):x("",!0),m(o.$slots,"content",{links:i.links},()=>[c(t(_),{links:i.links,level:0},null,8,["links"])])]),_:3},8,["class"]),h("p",{class:r(l.value.trigger({class:"hidden lg:flex"}))},[c(t(w),{open:k},null,8,["open"])],2),h("div",{class:r(l.value.content({class:[e.ui?.content,"hidden lg:flex"]}))},[i.highlight?(g(),y("div",{key:0,class:r(l.value.indicator({class:e.ui?.indicator})),style:N(B.value)},null,6)):x("",!0),m(o.$slots,"content",{links:i.links},()=>[c(t(_),{links:i.links,level:0},null,8,["links"])])],2)],64)):x("",!0),p.bottom?(g(),y("div",{key:2,class:r(l.value.bottom({class:e.ui?.bottom,body:!!p.top||!!i.links?.length}))},[m(o.$slots,"bottom",{links:i.links})],2)):x("",!0)],2)]),_:3},16,["default-open","class"])],64))}}),Ae={slots:{root:"grid grid-cols-1 sm:grid-cols-2 gap-8",link:["group block px-6 py-8 rounded-lg border border-default hover:bg-elevated/50 focus-visible:outline-primary","transition-colors"],linkLeading:["inline-flex items-center rounded-full p-1.5 bg-elevated group-hover:bg-primary/10 ring ring-accented mb-4 group-hover:ring-primary/50","transition"],linkLeadingIcon:["size-5 shrink-0 text-highlighted group-hover:text-primary","transition-[color,translate]"],linkTitle:"font-medium text-[15px] text-highlighted mb-1 truncate",linkDescription:"text-sm text-muted line-clamp-2"},variants:{direction:{left:{linkLeadingIcon:["group-active:-translate-x-0.5"]},right:{link:"text-right",linkLeadingIcon:["group-active:translate-x-0.5"]}}}},Be={key:1,class:"hidden lg:block"},Oe=Object.assign({inheritAttrs:!1},{__name:"UContentSurround",props:{as:{type:null,required:!1},prevIcon:{type:[String,Object],required:!1},nextIcon:{type:[String,Object],required:!1},surround:{type:Array,required:!1},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(i){const s=i,e=E(),[b,p]=H({props:{link:Object,icon:String,direction:String}}),n=D(()=>U({extend:U(Ae),...e.ui?.contentSurround||{}})());return(u,L)=>(g(),y(P,null,[c(t(b),null,{default:f(({link:a,icon:$,direction:I})=>[a?(g(),q(pe,{key:0,to:a.path,raw:"",class:r(n.value.link({class:[s.ui?.link,a.ui?.link,a.class],direction:I}))},{default:f(()=>[m(u.$slots,"link",{link:a},()=>[h("div",{class:r(n.value.linkLeading({class:[s.ui?.linkLeading,a.ui?.linkLeading]}))},[m(u.$slots,"link-leading",{link:a},()=>[c(G,{name:a.icon||$,class:r(n.value.linkLeadingIcon({class:[s.ui?.linkLeadingIcon,a.ui?.linkLeadingIcon],direction:I}))},null,8,["name","class"])])],2),h("p",{class:r(n.value.linkTitle({class:[s.ui?.linkTitle,a.ui?.linkTitle]}))},[m(u.$slots,"link-title",{link:a},()=>[j(R(a.title),1)])],2),h("p",{class:r(n.value.linkDescription({class:[s.ui?.linkDescription,a.ui?.linkDescription]}))},[m(u.$slots,"link-description",{link:a},()=>[j(R(a.description),1)])],2)])]),_:2},1032,["to","class"])):(g(),y("span",Be,"Â "))]),_:3}),i.surround?(g(),q(t(he),Q({key:0,as:i.as},u.$attrs,{class:n.value.root({class:[s.ui?.root,s.class]})}),{default:f(()=>[c(t(p),{link:i.surround[0],icon:i.prevIcon||t(e).ui.icons.arrowLeft,direction:"left"},null,8,["link","icon"]),c(t(p),{link:i.surround[1],icon:i.nextIcon||t(e).ui.icons.arrowRight,direction:"right"},null,8,["link","icon"])]),_:1},16,["as","class"])):x("",!0)],64))}}),Pe={class:"space-y-6"},De={class:"mb-4"},Ne=me({__name:"[...slug]",async setup(i){let s,e;const b=E(),p=fe(),{data:n}=([s,e]=V(()=>M(F(p.path),()=>ye("content").path(p.path).first(),"$QuLmG9WMPn")),s=await s,e(),s);if(!n.value)throw ve({statusCode:404,statusMessage:"Page not found",message:`${p.path} does not exist`,fatal:!0});const{data:u}=([s,e]=V(()=>M(`${F(p.path)}-surround`,()=>xe("content",p.path,{fields:["description"]}))),s=await s,e(),s),L=$e("navigation");function a(I,T,_=0){const v=[...I].find(w=>T.startsWith(w.path)&&w.children?.length>0);return v?_===0?a(v.children,T,_+1):[{label:v.title,icon:v.icon,to:v.page!==!1?v.path:""},...a(v.children,T,_+1)]:[]}const $=D(()=>a(L?.value||[],n.value.path));return Ie({title:`${n.value?.title} - ${b.site.name}`,ogTitle:n.value?.title,description:n.value?.description}),(I,T)=>{const _=J,v=Z,w=Se,l=Ce,W=_e,A=K,B=Oe,O=Le,o=be;return t(n)?(g(),q(o,{key:0},ke({default:f(()=>[c(v,{title:t(n).title,description:t(n).description,links:t(n).links},{headline:f(()=>[c(_,{items:t($)},null,8,["items"])]),_:1},8,["title","description","links"]),c(O,{prose:"",class:"break-words"},{default:f(()=>[t(n).body?(g(),q(l,{key:0,value:t(n)},null,8,["value"])):x("",!0),h("div",Pe,[c(W,{type:"dashed"}),h("div",De,[c(A,{class:"inline-block",links:[{icon:"i-ph-pen-duotone",label:`Edit this page ${t(n).automd?"(some contents are generated with automd from source)":""}`,to:`https://github.com/${t(b).docs.github}/edit/${t(b).docs.branch||"main"}/docs/${t(n).id.replace(/^content\//,"")}`,target:"_blank"}]},null,8,["links"])]),t(u)?.length?(g(),q(B,{key:0,class:"mb-4",surround:t(u)},null,8,["surround"])):x("",!0)])]),_:1})]),_:2},[t(n).body?.toc?.links?.length?{name:"right",fn:f(()=>[c(w,{title:"On this page",links:t(n).body?.toc?.links||[],highlight:""},null,8,["links"])]),key:"0"}:void 0]),1024)):x("",!0)}}});export{Ne as default};
